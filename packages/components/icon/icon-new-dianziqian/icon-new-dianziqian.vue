<template>
  <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg" :class="iconClass" :style="innerStyle" :stroke-width="strokeWidth" :stroke-linecap="strokeLinecap" :stroke-linejoin="strokeLinejoin" @click="onClick"><path d="M31 20v7L10 39l-6-4V13l6-4 14 8-6.5 3.5L10 16v16l21-12Z"></path><path d="m31 27 .992 1.736A2 2 0 0 0 33 27h-2Zm0-7h2v-3.446l-2.992 1.71L31 20ZM10 32H8a2 2 0 0 0 2.992 1.736L10 32Zm0-16 1.029-1.715A2 2 0 0 0 8 16h2Zm7.5 4.5-1.029 1.715a2 2 0 0 0 1.977.046L17.5 20.5ZM24 17l.948 1.76a2 2 0 0 0 .044-3.497L24 17ZM10 9l.992-1.736a2 2 0 0 0-2.101.072L10 9Zm-6 4-1.11-1.664A2 2 0 0 0 2 13h2Zm0 22H2a2 2 0 0 0 .89 1.664L4 35Zm6 4-1.11 1.664a2 2 0 0 0 2.102.072L10 39Zm23-12v-7h-4v7h4Zm-2.992-8.736-21 12 1.984 3.473 21-12-1.984-3.473ZM12 32V16H8v16h4ZM8.971 17.715l7.5 4.5 2.058-3.43-7.5-4.5-2.058 3.43Zm9.477 4.546 6.5-3.5-1.896-3.522-6.5 3.5 1.896 3.522Zm6.544-6.997-14-8-1.984 3.472 14 8 1.984-3.473ZM8.891 7.336l-6 4 2.218 3.328 6-4-2.218-3.328ZM2 13v22h4V13H2Zm.89 23.664 6 4 2.22-3.328-6-4-2.22 3.328Zm8.102 4.072 21-12-1.984-3.473-21 12 1.984 3.474Z" fill="#333"></path><path d="M17 28v-7L38 9l6 4v22l-6 4-14-8 6.5-3.5L38 32V16L17 28Z"></path><path d="m17 21-.992-1.736A2 2 0 0 0 15 21h2Zm0 7h-2v3.446l2.992-1.71L17 28Zm21-12h2a2 2 0 0 0-2.992-1.736L38 16Zm0 16-1.029 1.715A2 2 0 0 0 40 32h-2Zm-7.5-4.5 1.029-1.715a2 2 0 0 0-1.977-.046L30.5 27.5ZM24 31l-.948-1.76a2 2 0 0 0-.044 3.497L24 31Zm14 8-.992 1.736a2 2 0 0 0 2.101-.072L38 39Zm6-4 1.11 1.664A2 2 0 0 0 46 35h-2Zm0-22h2a2 2 0 0 0-.89-1.664L44 13Zm-6-4 1.11-1.664a2 2 0 0 0-2.102-.072L38 9ZM15 21v7h4v-7h-4Zm2.992 8.736 21-12-1.984-3.473-21 12 1.984 3.473ZM36 16v16h4V16h-4Zm3.029 14.285-7.5-4.5-2.058 3.43 7.5 4.5 2.058-3.43Zm-9.477-4.546-6.5 3.5 1.896 3.522 6.5-3.5-1.896-3.522Zm-6.544 6.997 14 8 1.984-3.472-14-8-1.984 3.473Zm16.101 7.928 6-4-2.218-3.328-6 4 2.218 3.328ZM46 35V13h-4v22h4Zm-.89-23.664-6-4-2.22 3.328 6 4 2.22-3.328Zm-8.102-4.072-21 12 1.984 3.473 21-12-1.984-3.473Z" fill="#333"></path></svg>
</template>

<script lang="ts">
import { defineComponent, computed, CSSProperties } from 'vue';

export default defineComponent({
  name: 'IconNewDianziqian',
  props: {
    /** 图标尺寸 */
    size: { type: String },
    /** 线宽 */
    strokeWidth: { type: Number, default: 4 },
    /** 端点类型 */
    strokeLinecap: {
      type: String,
      default: "butt",
      validator: (value: any) => {
        return ["butt", "round", "square"].includes(value);
      },
    },
    /** 拐角类型 */
    strokeLinejoin: {
      type: String,
      default: "miter",
      validator: (value: any) => {
        return ["arcs", "bevel", "miter", "miter-clip", "round"].includes(value);
      },
    },
    /** 旋转角度 */
    rotate: { type: Number },
    /** 是否旋转 */
    spin: { type: Boolean },
  },
  emits: {
    click: (ev: MouseEvent) => true,
  },
  setup(props, { emit }) {
    const name = 'bp-icon';

    const iconClass = computed(() => [name, `${name}-new-dianziqian`, { [`${name}-spin`]: props.spin }]);

    const innerStyle = computed(() => {
      const styles: CSSProperties = {};
        props.size && (styles.fontSize = props.size);
        props.rotate && (styles.transform = `rotate(${props.rotate}deg)`);

        return styles;
    });

    const onClick = (ev: MouseEvent) => {
      emit('click', ev);
    };

    return {
      iconClass,
      innerStyle,
      onClick,
    };
  }
});
</script>
