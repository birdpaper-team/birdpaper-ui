<template>
  <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg" :class="iconClass" :style="innerStyle" :stroke-width="strokeWidth" :stroke-linecap="strokeLinecap" :stroke-linejoin="strokeLinejoin" @click="onClick"><path d="M14.54 20.019c-1.688-2.075-3.272-2.521-4.754-1.337-2.223 1.776-2.861 7.968-1.073 13.427 1.789 5.459 5.267 12.893 12.289 12.893 7.021 0 8.682-7.48 11.546-12.002 2.865-4.522 4.38-8.885 1.573-14.318" stroke="#333"></path><path d="M11 18.037A643.145 643.145 0 0 0 7 12c-1.446-2.145 2.251-4.918 4-3.032 1.166 1.258 2.715 3.11 4.647 5.557" stroke="#333"></path><path d="M15.024 25.64c-.485-6.064-.09-10.012 1.182-11.845 1.91-2.75 5.457-3.792 8.797-3.792 1.99 0 3.806.847 5.45 2.541" stroke="#333"></path><path clip-rule="evenodd" d="M41 12.613c.586 2.036-.37 3.897-3.316 4.318-2.945.421-5.153 1.902-6.745 3.148-1.593 1.246-4.44 5.026-5.003 6.923-.562 1.898-3.776.153-4.639-.605-.863-.757-1.712-2.416 0-4.151 1.712-1.735 1.341-2.081 1.341-3.84 0-1.76 9.362-7.58 14.635-8.112 1.172-.068 3.142.282 3.727 2.319Z" stroke="#333"></path><path d="M23.008 4v5.263M20.307 10.718c-3.018-3.793-5.451-5.91-7.3-6.35M17.004 7.029l.99-4.067M35.613 10.717c-.322 1.105-.322 2.14 0 3.107.322.967 1.013 2.002 2.071 3.107" stroke="#333"></path></svg>
</template>

<script lang="ts">
import { defineComponent, computed, CSSProperties } from 'vue';

export default defineComponent({
  name: 'IconHeart',
  props: {
    /** 图标尺寸 */
    size: { type: String },
    /** 线宽 */
    strokeWidth: { type: Number, default: 4 },
    /** 端点类型 */
    strokeLinecap: {
      type: String,
      default: "butt",
      validator: (value: any) => {
        return ["butt", "round", "square"].includes(value);
      },
    },
    /** 拐角类型 */
    strokeLinejoin: {
      type: String,
      default: "miter",
      validator: (value: any) => {
        return ["arcs", "bevel", "miter", "miter-clip", "round"].includes(value);
      },
    },
    /** 旋转角度 */
    rotate: { type: Number },
    /** 是否旋转 */
    spin: { type: Boolean },
  },
  emits: {
    click: (ev: MouseEvent) => true,
  },
  setup(props, { emit }) {
    const name = 'bp-icon';

    const iconClass = computed(() => [name, `${name}-heart`, { [`${name}-spin`]: props.spin }]);

    const innerStyle = computed(() => {
      const styles: CSSProperties = {};
        props.size && (styles.fontSize = props.size);
        props.rotate && (styles.transform = `rotate(${props.rotate}deg)`);

        return styles;
    });

    const onClick = (ev: MouseEvent) => {
      emit('click', ev);
    };

    return {
      iconClass,
      innerStyle,
      onClick,
    };
  }
});
</script>
