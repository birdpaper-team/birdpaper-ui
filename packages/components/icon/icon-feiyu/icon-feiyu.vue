<template>
  <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg" :class="iconClass" :style="innerStyle" :stroke-width="strokeWidth" :stroke-linecap="strokeLinecap" :stroke-linejoin="strokeLinejoin" @click="onClick"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.854 24.12A30.637 30.637 0 0 1 2 12.989a36.708 36.708 0 0 0 8.512 8.3c5.421-5.09 12.69-8.205 20.681-8.208 5.24.001 9.897 2.469 12.902 6.312a7.36 7.36 0 0 1 1.678 4.111 35.97 35.97 0 0 0-14.568-3.064c-3.749 0-7.36.571-10.76 1.631a35.87 35.87 0 0 0-5.14 2.05 35.942 35.942 0 0 0 5.14 2.048 36.091 36.091 0 0 0 11.722 1.618 36.121 36.121 0 0 0 9.79-1.616 36.019 36.019 0 0 0 3.81-1.43 7.291 7.291 0 0 1-1.684 4.121c-3.003 3.837-7.656 6.3-12.88 6.3-8.002-.002-15.273-3.118-20.695-8.21a36.693 36.693 0 0 0-8.507 8.299 30.646 30.646 0 0 1 5.853-11.13Z" fill="#333"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M32.597 27.382c1.53-.464 2.658-1.243 2.658-3.138 0-1.897-1.128-2.962-2.658-3.428a3.161 3.161 0 0 0-.92-.138 28.978 28.978 0 0 1 .98.017c3.324.102 6.484.737 9.572 1.729 1.28.451 2.332.78 3.544 1.385v.397c0 .232 0 .107-.027.341-1.324.553-2.237.875-3.516 1.327-3.074.865-6.248 1.528-9.572 1.63-.013.002-.026.002-.038.002-.314.01-.63.014-.945.014.307 0 .605-.045.89-.127l.032-.01Z" fill="#333"></path></svg>
</template>

<script lang="ts">
import { defineComponent, computed, CSSProperties } from 'vue';

export default defineComponent({
  name: 'IconFeiyu',
  props: {
    /** 图标尺寸 */
    size: { type: String },
    /** 线宽 */
    strokeWidth: { type: Number, default: 4 },
    /** 端点类型 */
    strokeLinecap: {
      type: String,
      default: "butt",
      validator: (value: any) => {
        return ["butt", "round", "square"].includes(value);
      },
    },
    /** 拐角类型 */
    strokeLinejoin: {
      type: String,
      default: "miter",
      validator: (value: any) => {
        return ["arcs", "bevel", "miter", "miter-clip", "round"].includes(value);
      },
    },
    /** 旋转角度 */
    rotate: { type: Number },
    /** 是否旋转 */
    spin: { type: Boolean },
  },
  emits: {
    click: (ev: MouseEvent) => true,
  },
  setup(props, { emit }) {
    const name = 'bp-icon';

    const iconClass = computed(() => [name, `${name}-feiyu`, { [`${name}-spin`]: props.spin }]);

    const innerStyle = computed(() => {
      const styles: CSSProperties = {};
        props.size && (styles.fontSize = props.size);
        props.rotate && (styles.transform = `rotate(${props.rotate}deg)`);

        return styles;
    });

    const onClick = (ev: MouseEvent) => {
      emit('click', ev);
    };

    return {
      iconClass,
      innerStyle,
      onClick,
    };
  }
});
</script>
