<template>
  <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg" :class="iconClass" :style="innerStyle" :stroke-width="strokeWidth" :stroke-linecap="strokeLinecap" :stroke-linejoin="strokeLinejoin" @click="onClick"><path d="M1.387 27.28c1.962 9.4 11.124 15.472 20.559 13.7l-.006.004c10.992-1.795 16.14-8.437 20.323-11.761 2.225-1.767 3.39-2.8 4.53-3.396-.746.126-1.226-.101-1.87-.328-.712-.25-1.624-.502-3.315-.278-3.223.428-6.043 3.65-6.043 3.65l-1.72 1.528a17.616 17.616 0 0 1-7.234 3.323 17.657 17.657 0 0 1-12.378-1.963c-4.227-2.415-7.437-6.549-8.507-11.673-.63-3.02-.44-6.019.416-8.77C2.114 15.365.134 21.283 1.387 27.28Z" fill="#333"></path><path fill-rule="evenodd" clip-rule="evenodd" d="m21.946 40.98-.006.004c10.992-1.795 16.14-8.437 20.323-11.761 2.225-1.767 3.39-2.8 4.53-3.396-.746.126-1.226-.101-1.87-.328-.712-.25-1.624-.502-3.315-.278-3.223.428-6.043 3.65-6.043 3.65l-1.72 1.528a17.616 17.616 0 0 1-7.234 3.323 17.657 17.657 0 0 1-12.378-1.963c-4.227-2.415-7.437-6.549-8.507-11.673-.63-3.02-.44-6.019.416-8.77C2.114 15.365.134 21.283 1.387 27.28c1.962 9.4 11.124 15.472 20.559 13.7Z" fill="#333"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M35.75 28.586c-2.675 9.346-12.453 14.764-21.841 12.102C5.724 38.367.538 30.668 1.116 22.538A16.375 16.375 0 0 0 12.954 36.56c8.723 2.475 17.808-2.56 20.294-11.244.718-2.511.806-5.052.357-7.455a16.394 16.394 0 0 0-3.887-7.9 17.656 17.656 0 0 1 5.623 7.731 17.445 17.445 0 0 1 .408 10.895Z" fill="#333"></path><path d="m27.459 32.468.527.919.857-.353.79-.352c1.593-.795 1.518-.674 3.434-1.943 1.916-1.27 2.928-2.04 4.4-3.815l-.818-.649c-.969 1.222-2.038 2.138-3.87 3.351-1.154.765-2.93 1.714-5.32 2.842Z" fill="#333"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M18.696 6.118c2.35 0 4.63.47 6.727 1.335-8.67 2.447-14.15 11.076-12.552 19.99a17.907 17.907 0 0 0 .08.416l.006.027.01.056c.025.115.05.229.077.342l.015.066a17.299 17.299 0 0 0 .7 2.27c-2.95-2.1-4.877-4.666-6.119-7.339-1.65-3.553-1.89-7.647-.607-12.8a17.596 17.596 0 0 1 8.781-4.127c.967-.16 1.93-.236 2.882-.236ZM5.386 17.417l.014.35a17.39 17.39 0 0 1 .063-3.218c-.082.984-.109 1.941-.077 2.868Z" fill="#333"></path></svg>
</template>

<script lang="ts">
import { defineComponent, computed, CSSProperties } from 'vue';

export default defineComponent({
  name: 'IconQingniaoClue',
  props: {
    /** 图标尺寸 */
    size: { type: String },
    /** 线宽 */
    strokeWidth: { type: Number, default: 4 },
    /** 端点类型 */
    strokeLinecap: {
      type: String,
      default: "butt",
      validator: (value: any) => {
        return ["butt", "round", "square"].includes(value);
      },
    },
    /** 拐角类型 */
    strokeLinejoin: {
      type: String,
      default: "miter",
      validator: (value: any) => {
        return ["arcs", "bevel", "miter", "miter-clip", "round"].includes(value);
      },
    },
    /** 旋转角度 */
    rotate: { type: Number },
    /** 是否旋转 */
    spin: { type: Boolean },
  },
  emits: {
    click: (ev: MouseEvent) => true,
  },
  setup(props, { emit }) {
    const name = 'bp-icon';

    const iconClass = computed(() => [name, `${name}-qingniao-clue`, { [`${name}-spin`]: props.spin }]);

    const innerStyle = computed(() => {
      const styles: CSSProperties = {};
        props.size && (styles.fontSize = props.size);
        props.rotate && (styles.transform = `rotate(${props.rotate}deg)`);

        return styles;
    });

    const onClick = (ev: MouseEvent) => {
      emit('click', ev);
    };

    return {
      iconClass,
      innerStyle,
      onClick,
    };
  }
});
</script>
