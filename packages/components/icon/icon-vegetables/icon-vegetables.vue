<template>
  <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg" :class="iconClass" :style="innerStyle" :stroke-width="strokeWidth" :stroke-linecap="strokeLinecap" :stroke-linejoin="strokeLinejoin" @click="onClick"><path d="M32 7.902c1.5-.402 3.33-.29 4.44 0 2.501.658 4.325 1.788 5.416 3.36 1.263 1.817 1.481 4.137.652 6.894-1.699 5.64-8.6 9.14-9.008 9.344M27.247 41.27c.515.098 1.038.15 1.562.151 1.47 0 2.735-.415 3.757-1.234 1.113-.885 1.934-2.187 2.267-3.909.332-1.721-.153-3.335-.68-4.91-.373-1.118-.618-2.804-.653-3.868M13 26.5s-5.81-2.706-7.507-8.344c-.83-2.756-.611-5.074.651-6.894 1.093-1.571 2.914-2.7 5.416-3.36 1.111-.29 2.174-.439 3.162-.439M13.5 27c.5 1 .068 2.796-.46 4.372-.527 1.576-1.071 3.202-.68 4.91.39 1.706 1.153 3.023 2.264 3.908 1.024.818 1.906 1.31 3.376 1.31.523-.002 2-.5 2-.5" stroke="#333"></path><path d="M23.5 4C28.747 4 33 6.643 33 14.375 33 22.108 23.5 32 23.5 32S14 22.107 14 14.375C14 6.642 18.253 4 23.5 4Z" stroke="#333"></path><path d="M24 42.229c-2.01 0-3.72-.662-4.87-1.67-1.327-1.166-2.003-2.826-2.003-4.932 0-1.756.95-3.221 1.867-4.64.652-1.007 1.554-2.99 1.554-2.99s.475-1.636.397-2.7c-.145-1.964-2.052-3.443-2.362-4.457-.375-1.26-.283-2.028.285-2.412.175-.12.845-.16.845-.16s-.126-1.846-.047-2.455c.095-.73.476-1.772 1.372-1.848.62-.053 1.11.04 1.428.707.102.216.173.477.272.839a25.869 25.869 0 0 0 1.257 3.532 25.817 25.817 0 0 0 1.26-3.532c.1-.361.17-.623.273-.84.318-.667.81-.758 1.43-.705.755.066 1.275 1.119 1.37 1.847.08.609.064 1.42-.047 2.454h.047c.215 0 .626.04.802.16.569.384.602 1.519.283 2.413C29 22 27.203 23.133 27 25c-.129 1.177.095 1.87.451 2.998.396 1.255.9 1.983 1.554 2.989.918 1.418 1.867 2.885 1.867 4.64 0 2.106-.674 3.765-2.004 4.931-1.152 1.008-2.859 1.67-4.869 1.671Z" stroke="#333"></path></svg>
</template>

<script lang="ts">
import { defineComponent, computed, CSSProperties } from 'vue';

export default defineComponent({
  name: 'IconVegetables',
  props: {
    /** 图标尺寸 */
    size: { type: String },
    /** 线宽 */
    strokeWidth: { type: Number, default: 4 },
    /** 端点类型 */
    strokeLinecap: {
      type: String,
      default: "butt",
      validator: (value: any) => {
        return ["butt", "round", "square"].includes(value);
      },
    },
    /** 拐角类型 */
    strokeLinejoin: {
      type: String,
      default: "miter",
      validator: (value: any) => {
        return ["arcs", "bevel", "miter", "miter-clip", "round"].includes(value);
      },
    },
    /** 旋转角度 */
    rotate: { type: Number },
    /** 是否旋转 */
    spin: { type: Boolean },
  },
  emits: {
    click: (ev: MouseEvent) => true,
  },
  setup(props, { emit }) {
    const name = 'bp-icon';

    const iconClass = computed(() => [name, `${name}-vegetables`, { [`${name}-spin`]: props.spin }]);

    const innerStyle = computed(() => {
      const styles: CSSProperties = {};
        props.size && (styles.fontSize = props.size);
        props.rotate && (styles.transform = `rotate(${props.rotate}deg)`);

        return styles;
    });

    const onClick = (ev: MouseEvent) => {
      emit('click', ev);
    };

    return {
      iconClass,
      innerStyle,
      onClick,
    };
  }
});
</script>
