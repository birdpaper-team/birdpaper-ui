import{b as m}from"./index.0e2d6b0f.js";import{H as d}from"./vendor.793e35db.js";const g=()=>{const{addSubscribe:a,updateSubscribe:u}=m;let o={};const e=d({addLoading:!1,email:"",tipText:"",tipType:"error",tipShow:!1}),t=d({result:"\u8BF7\u7A0D\u540E...",type:"loading"}),p=(r,n="error")=>{e.tipText=r,e.tipType=n,e.tipShow=!0};return o.add=function(r){return e.addLoading=!0,new Promise((n,c)=>{a({email:r}).then(s=>{if(s.code!="0"){c(s.msg.cn);return}e.addLoading=!1,n(s.msg.cn)})})},o.update=function(r,n){return t.type="loading",t.result="\u8BF7\u7A0D\u540E...",new Promise((c,s)=>{u({code:r,status:n}).then(i=>{if(t.result=i.msg.cn,i.code!="0"){t.type="error",s(i.msg.cn);return}t.type="success",c(i.msg.cn)})})},{state:e,subscribe:o,showTips:p,check:t}};export{g as u};
