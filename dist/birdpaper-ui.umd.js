!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).BirdpaperUI={},e.Vue)}(this,(function(e,t){"use strict";var n=Object.defineProperty,l=(e,t,l)=>(((e,t,l)=>{t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l})(e,"symbol"!=typeof t?t+"":t,l),l);const a=t.defineComponent({name:"Button",props:{type:{type:String,default:"normal"},size:{type:String,default:"normal"},shape:{type:String,default:"square"},status:{type:String,default:"normal"},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{type:String,default:""},block:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:n}){const l="bp-btn";return{isDisabled:t.computed((()=>e.disabled||e.loading)),btnClass:t.computed((()=>[l,`${l}-${e.shape}-${e.size}`,`${l}-type-${e.type}-status-${e.status}`,{"has-default-slot":!!t.useSlots().default},{"is-block":e.block}])),btnIcon:t.computed((()=>e.loading?"bp-icon-loading ri-loader-4-line":e.icon)),onClick:()=>{if(!e.disabled)return n("click")}}}}),o=(e,t)=>{const n=e.__vccOpts||e;for(const[l,a]of t)n[l]=a;return n},r=["disabled"],s={key:0,class:"left-icon"};const i=o(a,[["render",function(e,n,l,a,o,i){return t.openBlock(),t.createElementBlock("button",{class:t.normalizeClass(e.btnClass),type:"button",disabled:e.isDisabled,onClick:n[0]||(n[0]=(...t)=>e.onClick&&e.onClick(...t))},[e.btnIcon?(t.openBlock(),t.createElementBlock("span",s,[t.createElementVNode("i",{class:t.normalizeClass(e.btnIcon)},null,2)])):t.createCommentVNode("",!0),t.renderSlot(e.$slots,"default")],10,r)}]]),c=e=>e??"Bp";i.name=c()+i.name;const u=Object.assign(i,{install:e=>{e.component(i.name,i)}}),d=(e,t)=>Boolean(e&&6&e.shapeFlag),p=(e,t)=>Boolean(e&&16&e.shapeFlag),m=Object.prototype.toString,f=(e,t)=>Boolean(e&&32&e.shapeFlag),y=(e,t=!1)=>{var n,l;const a=[];for(const i of e??[])s=i,Boolean(s&&1&s.shapeFlag)||d(i)||t&&(r=i,i.children,Boolean(r&&8&r.shapeFlag))?a.push(i):p(i,i.children)?a.push(...y(i.children,t)):f(i,i.children)?a.push(...y(null==(l=(n=i.children).default)?void 0:l.call(n),t)):(o=i,"[object Array]"===m.call(o)&&a.push(...y(i,t)));var o,r,s;return a},g=t.defineComponent({name:"ButtonGroup",props:{type:{type:String,default:"normal"},size:{type:String,default:"normal"},shape:{type:String,default:"square"},status:{type:String,default:"normal"},block:{type:Boolean,default:!1}},setup(e,{slots:n}){const l="bp-button-group",a=t.computed((()=>{let t=[l];return!["plain","dashed"].includes(e.type)&&t.push(`${l}-type-${e.type}-status-${e.status}`),e.block&&t.push(`${l}-block`),t}));return()=>{var l;const o=y(null==(l=n.default)?void 0:l.call(n),!0).filter((e=>e.type!==t.Comment));return t.createVNode("div",{class:a.value},[o.map(((n,l)=>{const a=Object.assign({},n);return a.props=t.mergeProps(n.props,{...e}),t.createVNode(t.Fragment,{key:n.key??`item-${l}`},[a])}))])}}});g.name=c()+g.name;const h=Object.assign(g,{install:e=>{e.component(g.name,g)}}),v=t.defineComponent({name:"Input",props:{modelValue:{type:String,default:""},type:{type:String,default:"text"},size:{type:String,default:"normal"},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},isDanger:{type:Boolean,default:!1},placeholder:{type:String,default:""},maxlength:{type:Number,default:null},showLimit:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1}},emits:["update:modelValue","input","focus","blur","keypress","keyup"],setup(e,{emit:n,slots:l}){const a="bp-input",o=t.ref(),r=t.computed((()=>p.value?"password":"text")),s=t.computed((()=>{const t=(e.disabled?"disabled":e.readonly&&"readonly")||e.isDanger&&"danger"||"normal";return[a,`${a}-size-${e.size}`,`${a}-status-${t}`]}));const i=t.computed((()=>"text"===e.type&&e.modelValue&&e.clearable&&!e.disabled&&!e.readonly)),c=t.computed((()=>e.maxlength&&e.showLimit&&"text"===e.type)),u=t.computed((()=>{var t;return`${null==(t=e.modelValue)?void 0:t.length}/${e.maxlength}`})),d=t.ref(!1),p=t.computed((()=>"password"===e.type&&!d.value)),m=()=>o.value.focus();return{name:a,inpRef:o,inpType:r,inpClass:s,showClear:i,handleClear:()=>{n("update:modelValue",""),t.nextTick((()=>m()))},handleFocus:m,showPassword:d,showWordLimit:c,limitText:u,slots:l,handleBlur:()=>o.value.blur(),onFocus:()=>n("focus"),onBlur:()=>n("blur"),onKeypress:()=>n("keypress"),onKeyup:()=>n("keyup"),onInput:e=>{const t=e.target.value;n("input",t),n("update:modelValue",t)},triggerPassword:()=>{d.value=!d.value,t.nextTick((()=>m()))}}}}),b=["type","disabled","readonly","cursor","placeholder","maxlength","value"],k=["textContent"];const C=o(v,[["render",function(e,n,l,a,o,r){var s;return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(e.inpClass)},[t.createElementVNode("input",{ref:"inpRef",class:"bp-input-inner",type:e.inpType,spellcheck:!1,disabled:e.disabled,readonly:e.readonly,cursor:null==(s=e.modelValue)?void 0:s.length,placeholder:e.placeholder,maxlength:e.maxlength,value:e.modelValue,onFocus:n[0]||(n[0]=(...t)=>e.onFocus&&e.onFocus(...t)),onBlur:n[1]||(n[1]=(...t)=>e.onBlur&&e.onBlur(...t)),onKeypress:n[2]||(n[2]=(...t)=>e.onKeypress&&e.onKeypress(...t)),onKeyup:n[3]||(n[3]=(...t)=>e.onKeyup&&e.onKeyup(...t)),onInput:n[4]||(n[4]=(...t)=>e.onInput&&e.onInput(...t))},null,40,b),e.slots.suffix||e.showClear||e.showWordLimit||"password"===e.type?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(`${e.name}-suffix`)},[e.slots.suffix?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[e.showClear?(t.openBlock(),t.createElementBlock("i",{key:0,class:"ri-close-line click-icon",onClick:n[5]||(n[5]=(...t)=>e.handleClear&&e.handleClear(...t))})):t.createCommentVNode("",!0),e.showWordLimit?(t.openBlock(),t.createElementBlock("span",{key:1,textContent:t.toDisplayString(e.limitText)},null,8,k)):t.createCommentVNode("",!0),"password"===e.type?(t.openBlock(),t.createElementBlock("i",{key:2,onClick:n[6]||(n[6]=(...t)=>e.triggerPassword&&e.triggerPassword(...t)),class:t.normalizeClass(["click-icon",e.showPassword?"ri-eye-fill":"ri-eye-close-fill"])},null,2)):t.createCommentVNode("",!0)],64)),t.renderSlot(e.$slots,"suffix")],2)):t.createCommentVNode("",!0)],2)}]]);C.name=c()+C.name;const B=Object.assign(C,{install:e=>{e.component(C.name,C)}}),V=e=>!e&&0!=e,w=e=>"string"==typeof e,x=(e,t)=>{var n,l;t=t||200;return function(){var a=arguments,o=Date.now();n&&o-n<t?(clearTimeout(l),l=setTimeout((function(){n=o,e.apply(this,a)}),t)):(n=o,e.apply(this,a))}},S=function(e,t,n,l=!1){e&&t&&n&&e.addEventListener(t,n,l)},N=function(e,t,n,l=!1){e&&t&&n&&e.removeEventListener(t,n,l)},$=(e,t)=>{console.warn(`[ A warning of birdpaper-ui ] - ${e}: `+t)},E=e=>e&&"object"==typeof e&&e instanceof Array;function z(e,t){t=E(e)?t||[]:t||{};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&("object"==typeof e[n]&&null!==typeof e[n]?(t[n]=E(e[n])?[]:{},z(e[n],t[n])):t[n]=e[n]);return t}const O=t.defineComponent({name:"InputNumber",props:{modelValue:{type:[Number,String]},size:{type:String,default:"normal"},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},isDanger:{type:Boolean,default:!1},placeholder:{type:String,default:""},hideButton:{type:Boolean,default:!1},precision:{type:Number},step:{type:Number,default:1},min:{type:Number},max:{type:Number}},emits:["update:modelValue","input","blur"],setup(e,{emit:n}){const l=t.ref(),a=t.computed((()=>{var t,n;const l=(null==(n=null==(t=e.step.toString())?void 0:t.split(".")[1])?void 0:n.length)||0;return e.precision&&e.precision>l?e.precision:l})),o=t.computed((()=>Number(i.value)===e.min)),r=t.computed((()=>Number(i.value)===e.max)),s=e=>e&&""!==e?a.value&&a.value>=0?Number(e).toFixed(a.value):e.toString():"",i=t.ref(s(e.modelValue)||""),c=()=>{n("update:modelValue",parseFloat(i.value)||""),n("input",parseFloat(i.value)||"")};return c(),t.watch((()=>e.modelValue),(e=>{i.value=s(e||"")})),{name:"bp-input-number",inputRef:l,global_value:i,isMax:r,isMin:o,handleStep:t=>{if(!e.hideButton&&e.step){l.value.handleFocus();var n=Number(i.value);"up"!==t||r.value||(n+=e.step),"down"!==t||o.value||(n-=e.step),i.value=s(n),c()}},onInput:e=>""===e?(i.value="",c()):(e=e.trim().replace(/。/g,"."),Number(e)||/^(\.|-)$/.test(e)?(i.value=e,c()):(i.value=e.replace(/^(\.?|-)$/g,""),i.value=e.replace(/[^\d.]/g,""),void(i.value=s(parseFloat(i.value))))),onBlur:()=>{i.value=s((()=>{let t=i.value;return!V(e.min)&&Number(t)<e.min?e.min.toString():!V(e.max)&&Number(t)>e.max?e.max.toString():t.toString()})()),c(),n("blur")}}}}),F=["onClick"];const T=o(O,[["render",function(e,n,l,a,o,r){const s=t.resolveComponent("bp-input");return t.openBlock(),t.createBlock(s,{ref:"inputRef",modelValue:e.global_value,class:t.normalizeClass(e.name),placeholder:e.placeholder,disabled:e.disabled,readonly:e.readonly,"is-danger":e.isDanger,size:e.size,onInput:e.onInput,onBlur:e.onBlur},t.createSlots({_:2},[e.hideButton||e.disabled?void 0:{name:"suffix",fn:t.withCtx((()=>[t.createElementVNode("div",{class:t.normalizeClass(`${e.name}-step`)},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList([{type:"up",disabled:e.isMax},{type:"down",disabled:e.isMin}],(n=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass([{disabled:n.disabled},`${e.name}-step-item`]),onClick:t=>e.handleStep(n.type)},[t.createElementVNode("i",{class:t.normalizeClass(`ri-arrow-${n.type}-s-line`)},null,2)],10,F)))),256))],2)])),key:"0"}]),1032,["modelValue","class","placeholder","disabled","readonly","is-danger","size","onInput","onBlur"])}]]);T.name=c()+T.name;const j=Object.assign(T,{install:e=>{e.component(T.name,T)}}),A=t.defineComponent({name:"Textarea",props:{modelValue:{type:String,default:""},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},isDanger:{type:Boolean,default:!1},placeholder:{type:String,default:""},maxlength:{type:Number,default:null},rows:{type:Number,default:3},showLimit:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1}},emits:["update:modelValue","input","focus","blur","keypress","keyup"],setup(e,{emit:n,slots:l}){const a="bp-textarea",o=t.ref(),r=t.computed((()=>{const e=s();return[a,`${a}-status-${e}`]}));function s(){return(e.disabled?"disabled":e.readonly&&"readonly")||e.isDanger&&"danger"||"normal"}const i=t.computed((()=>e.maxlength&&e.showLimit)),c=t.computed((()=>{var t;return`${null==(t=e.modelValue)?void 0:t.length}/${e.maxlength}`})),u=t.computed((()=>e.modelValue&&e.clearable&&!e.disabled&&!e.readonly));return{name:a,inpRef:o,inpClass:r,getStatus:s,showWordLimit:i,limitText:c,onFocus:()=>n("focus"),onBlur:()=>n("blur"),onKeypress:()=>n("keypress"),onKeyup:()=>n("keyup"),onInput:e=>{const t=e.target.value;n("update:modelValue",t)},slots:l,showClear:u,handleClear:()=>{n("update:modelValue",""),t.nextTick((()=>o.value.focus()))}}}}),L=["rows","disabled","readonly","cursor","placeholder","maxlength","value"],q={class:"suffix"},D=["textContent"];const _=o(A,[["render",function(e,n,l,a,o,r){var s;return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(e.inpClass)},[t.createElementVNode("textarea",{ref:"inpRef",class:"bp-textarea-inner",rows:e.rows,spellcheck:!1,disabled:e.disabled,readonly:e.readonly,cursor:null==(s=e.modelValue)?void 0:s.length,placeholder:e.placeholder,maxlength:e.maxlength,value:e.modelValue,onFocus:n[0]||(n[0]=(...t)=>e.onFocus&&e.onFocus(...t)),onBlur:n[1]||(n[1]=(...t)=>e.onBlur&&e.onBlur(...t)),onKeypress:n[2]||(n[2]=(...t)=>e.onKeypress&&e.onKeypress(...t)),onKeyup:n[3]||(n[3]=(...t)=>e.onKeyup&&e.onKeyup(...t)),onInput:n[4]||(n[4]=(...t)=>e.onInput&&e.onInput(...t))},null,40,L),t.createElementVNode("div",q,[e.slots.suffix?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[e.showClear?(t.openBlock(),t.createElementBlock("i",{key:0,class:"ri-close-line click-icon",onClick:n[5]||(n[5]=(...t)=>e.handleClear&&e.handleClear(...t))})):t.createCommentVNode("",!0),e.showWordLimit?(t.openBlock(),t.createElementBlock("span",{key:1,textContent:t.toDisplayString(e.limitText)},null,8,D)):t.createCommentVNode("",!0)],64)),t.renderSlot(e.$slots,"suffix")])],2)}]]);_.name=c()+_.name;const P=Object.assign(_,{install:e=>{e.component(_.name,_)}});const M=o(t.defineComponent({name:"Radio",props:{modelValue:{type:[String,Number,Boolean],default:!1},value:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:!1},type:{type:String,default:"radio"}},emits:["update:modelValue","change"],setup:(e,{emit:n})=>({name:"bp-radio",handleInput:()=>{e.disabled||e.modelValue!==e.value&&(n("update:modelValue",e.value),n("change",e.value))},isCheck:t.computed((()=>e.modelValue===e.value))})}),[["render",function(e,n,l,a,o,r){return t.openBlock(),t.createElementBlock("label",{class:t.normalizeClass([e.name,e.disabled?`${e.name}-disabled`:""]),onClick:n[0]||(n[0]=(...t)=>e.handleInput&&e.handleInput(...t))},[t.createElementVNode("input",{type:"radio",class:t.normalizeClass(`${e.name}-inner`)},null,2),"radio"===e.type?(t.openBlock(),t.createElementBlock("span",{key:0,class:t.normalizeClass([`${e.name}-radio`,e.isCheck?`${e.name}-check`:""])},null,2)):t.createCommentVNode("",!0),t.createElementVNode("span",{class:t.normalizeClass([`${e.name}-label`,e.isCheck?`${e.name}-check-label`:""])},[t.renderSlot(e.$slots,"default")],2)],2)}]]),R=t.defineComponent({name:"RadioGroup",props:{modelValue:{type:[String,Number]},disabled:{type:Boolean,default:!1},type:{type:String,default:"radio"},direction:{type:String,default:"horizontal"}},emits:["update:modelValue"],setup(e,{emit:n,slots:l}){const a="bp-radio-group",o=t.computed((()=>{let t=[a];return t.push(`${a}-${e.direction}`),"button"===e.type&&t.push(`${a}-button`),t}));return()=>{var a;const r=y(null==(a=l.default)?void 0:a.call(l),!0).filter((e=>e.type!==t.Comment));return t.createVNode("div",{class:o.value},[r.map(((l,a)=>{const o=Object.assign({},l);return o.props=t.mergeProps(l.props,{...e}),t.createVNode(t.Fragment,{key:l.key??`item-${a}`},[t.h(o,{modelValue:e.modelValue,"onUpdate:modelValue"(e){n("update:modelValue",e)}})])}))])}}});M.name=c()+M.name,R.name=c()+R.name;const I=Object.assign(M,{install:e=>{e.component(M.name,M),e.component(R.name,R)}}),K=t.defineComponent({name:"Checkbox",props:{modelValue:{type:[Boolean,Array],default:!1},disabled:{type:Boolean,default:!1},value:{type:[String,Number]}},emits:["update:modelValue","change"],setup(e,{emit:n}){const l="bp-checkbox",a=t.computed((()=>{let t=[l];return e.disabled&&t.push(`${l}-disabled`),t})),o=t.computed((()=>Array.isArray(e.modelValue)?!!e.value&&e.modelValue.includes(e.value):e.modelValue));return{cls:a,name:l,isCheck:o,handleClick:()=>{if(Array.isArray(e.modelValue)){if(!e.value)return!1;let t=JSON.parse(JSON.stringify(e.modelValue));const l=t.indexOf(e.value);return-1===l?t.push(e.value):t.splice(l,1),n("update:modelValue",t),n("change",t)}return n("update:modelValue",!e.modelValue),n("change",!e.modelValue)}}}}),U={key:0,class:"ri-check-line"};const W=o(K,[["render",function(e,n,l,a,o,r){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(e.cls),onClick:n[0]||(n[0]=(...t)=>e.handleClick&&e.handleClick(...t))},[t.createElementVNode("input",{type:"checkbox",class:t.normalizeClass(`${e.name}-inner`)},null,2),t.createElementVNode("span",{class:t.normalizeClass([`${e.name}-checkbox`,e.isCheck?`${e.name}-check`:""])},[e.isCheck?(t.openBlock(),t.createElementBlock("i",U)):t.createCommentVNode("",!0)],2),t.createElementVNode("span",{class:t.normalizeClass(`${e.name}-label`)},[t.renderSlot(e.$slots,"default")],2)],2)}]]);W.name=c()+W.name;const G=Object.assign(W,{install:e=>{e.component(W.name,W)}}),H=t.defineComponent({name:"Switch",props:{modelValue:{type:[Boolean,Number,String],default:!1},disabled:{type:Boolean,default:!1},checkValue:{type:[Boolean,Number,String],default:!0},uncheckValue:{type:[Boolean,Number,String],default:!1},checkText:{type:String,default:""},uncheckText:{type:String,default:""},onBeforeOk:{type:Function,default:()=>!0}},emits:["update:modelValue"],setup(e,{emit:n}){const l="bp-switch",a=t.computed((()=>{let t=[l];return e.disabled&&t.push(`${l}-disabled`),t})),o=t.computed((()=>e.modelValue===e.checkValue)),r=t.ref(!1);return{name:l,cls:a,isCheck:o,loading:r,handleClick:async()=>{if(!e.disabled&&!r.value)try{r.value=!0;if(!(await e.onBeforeOk()))return;n("update:modelValue",o.value?e.uncheckValue:e.checkValue)}catch(t){console.log("[ Switch -onBeforeOk error]",t)}finally{r.value=!1}}}}}),J={key:0,class:"switch-icon-loading ri-loader-4-line"};const Y=o(H,[["render",function(e,n,l,a,o,r){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(e.cls),onClick:n[0]||(n[0]=(...t)=>e.handleClick&&e.handleClick(...t))},[t.createElementVNode("input",{type:"checkbox",class:t.normalizeClass(`${e.name}-inner`)},null,2),t.createElementVNode("div",{class:t.normalizeClass([`${e.name}-slider`,e.isCheck?`${e.name}-check`:""])},[e.checkText||e.uncheckText?(t.openBlock(),t.createElementBlock("span",{key:0,class:t.normalizeClass(`${e.name}-slider-inner`)},t.toDisplayString(e.isCheck?e.checkText:e.uncheckText),3)):t.createCommentVNode("",!0),t.createElementVNode("span",{class:t.normalizeClass(`${e.name}-slider-dot`)},[e.loading?(t.openBlock(),t.createElementBlock("i",J)):t.createCommentVNode("",!0)],2)],2)],2)}]]);Y.name=c()+Y.name;const Z=Object.assign(Y,{install:e=>{e.component(Y.name,Y)}});class X{constructor(){l(this,"label",""),l(this,"value","")}}const Q=Symbol("SelectCtxKey"),ee={mounted(e,t){function n(n){if(e.contains(n.target))return!1;t.value&&"function"==typeof t.value&&t.value(n)}e.__click_outside__=n,document.addEventListener("click",n)},beforeUnmount(e){document.removeEventListener("click",e.__click_outside__),delete e.__click_outside__}};const te=o(t.defineComponent({name:"Select",components:{BpInput:C},directives:{clickOutside:ee},props:{modelValue:{type:[String,Number],default:""},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},clearable:{type:Boolean,default:!1}},emits:["update:modelValue","change"],setup(e,{emit:n,slots:l}){const a="bp-select",o=t.ref(),r=t.ref(!1),{currentSelect:s,valueMap:i,isFocus:c}=(e=>{const n=t.reactive(new X);return{isFocus:t.ref(!1),currentSelect:n,valueMap:t.computed((()=>{var n,l,a;try{let o={};const r=y(null==(n=e.default)?void 0:n.call(e),!0).filter((e=>e.type!==t.Comment))??[];for(const e of r)"BpOption"===e.type.name&&(o[e.props.value]=e.props.label||(null==(a=(l=e.children).default)?void 0:a.call(l)[0].children));return o}catch(o){return{}}}))}})(l);t.provide(Q,{modelValue:e.modelValue,currentSelect:s,onSelect:(e,t)=>{s.value=e,s.label=t.label,n("update:modelValue",s.value),n("change",s.value),c.value=!1}});const u=t.computed((()=>{let t=[a];return c.value&&t.push(`${a}-focus`),e.disabled&&t.push(`${a}-disabled`),t})),d=()=>{s.value=e.modelValue,s.label=i.value[s.value]};return t.watch((()=>i.value),(()=>d()),{immediate:!0,deep:!0}),t.watch((()=>e.modelValue),(()=>d())),{name:a,inpRef:o,currentSelect:s,isFocus:c,clsName:u,handleMouseEnter:()=>{e.clearable&&(r.value=!0)},handleMouseLeave:()=>{e.clearable&&(r.value=!1)},showClear:r,hancleClear:()=>{s.value="",s.label=""}}}}),[["render",function(e,n,l,a,o,r){const s=t.resolveComponent("bp-input"),i=t.resolveComponent("bp-trigger");return t.openBlock(),t.createBlock(i,{"popup-visible":e.isFocus,"onUpdate:popupVisible":n[2]||(n[2]=t=>e.isFocus=t),transition:"fade-dropdown",class:t.normalizeClass(e.clsName),disabled:e.disabled,"popup-offset":10,"auto-fit-width":""},{content:t.withCtx((()=>[t.createElementVNode("ul",{class:t.normalizeClass(`${e.name}-option-list`)},[t.renderSlot(e.$slots,"default")],2)])),default:t.withCtx((()=>[t.createVNode(s,{ref:"inpRef",disabled:e.disabled,modelValue:e.currentSelect.label,"onUpdate:modelValue":n[1]||(n[1]=t=>e.currentSelect.label=t),readonly:"",placeholder:e.placeholder,onMouseenter:e.handleMouseEnter,onMouseleave:e.handleMouseLeave},{suffix:t.withCtx((()=>[!e.disabled&&e.showClear&&e.currentSelect.label?(t.openBlock(),t.createElementBlock("i",{key:0,class:"ri-close-line click-icon",onClick:n[0]||(n[0]=t.withModifiers(((...t)=>e.hancleClear&&e.hancleClear(...t)),["stop"]))})):(t.openBlock(),t.createElementBlock("i",{key:1,class:t.normalizeClass([`${e.name}-icon-inner`,`ri-arrow-${e.isFocus?"up":"down"}-s-line`])},null,2))])),_:1},8,["disabled","modelValue","placeholder","onMouseenter","onMouseleave"])])),_:3},8,["popup-visible","class","disabled"])}]]);const ne=o(t.defineComponent({name:"Option",props:{value:{type:[String,Number],default:""},label:{type:String,default:""},disabled:{type:Boolean,default:!1}},setup(e){const n="bp-option",l=t.ref(),a=t.useSlots(),o=t.reactive(new X),r=t.computed((()=>{let t=[`${n}-item`];return l.value.currentSelect.value===e.value&&t.push(`${n}-active`),e.disabled&&t.push(`${n}-disabled`),t}));return t.watch((()=>e),(()=>{var n;l.value=t.inject(Q,null),o.label=e.label||(null==(n=a.default)?void 0:n.call(a)[0].children),o.value=e.value}),{immediate:!0}),{name:n,clsName:r,handleClick:()=>{var t;e.disabled||null==(t=l.value)||t.onSelect(o.value,{...o})}}}}),[["render",function(e,n,l,a,o,r){return t.openBlock(),t.createElementBlock("li",{class:t.normalizeClass(e.clsName),onClick:n[0]||(n[0]=(...t)=>e.handleClick&&e.handleClick(...t))},[t.createElementVNode("span",null,[t.renderSlot(e.$slots,"default")])],2)}]]);te.name=c()+te.name,ne.name=c()+ne.name;const le=Object.assign(te,{install:e=>{e.component(te.name,te),e.component(ne.name,ne)}}),ae=["textContent"],oe={key:1,class:"ri-arrow-left-s-line"},re=t.defineComponent({name:"PaginationPrev"}),se=t.defineComponent({...re,props:{text:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:n}){const l=e,a="bp-pagination",o=t.computed((()=>{let e=[`${a}-item`,`${a}-prev`];return l.disabled&&e.push(`${a}-item-disabled`),e})),r=()=>{l.disabled||n("click")};return(n,l)=>(t.openBlock(),t.createElementBlock("li",{class:t.normalizeClass(o.value),onClick:r},[e.text?(t.openBlock(),t.createElementBlock("span",{key:0,textContent:t.toDisplayString(e.text)},null,8,ae)):(t.openBlock(),t.createElementBlock("i",oe))],2))}}),ie=["textContent"],ce={key:1,class:"ri-arrow-right-s-line"},ue=t.defineComponent({name:"PaginationNext"}),de=t.defineComponent({...ue,props:{text:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:n}){const l=e,a="bp-pagination",o=t.computed((()=>{let e=[`${a}-item`,`${a}-next`];return l.disabled&&e.push(`${a}-item-disabled`),e})),r=()=>{l.disabled||n("click")};return(n,l)=>(t.openBlock(),t.createElementBlock("li",{class:t.normalizeClass(o.value),onClick:r},[e.text?(t.openBlock(),t.createElementBlock("span",{key:0,textContent:t.toDisplayString(e.text)},null,8,ie)):(t.openBlock(),t.createElementBlock("i",ce))],2))}}),pe=["textContent"],me=t.defineComponent({name:"PaginationTotal"}),fe=t.defineComponent({...me,props:{value:{type:Number,default:0},tmpString:{type:String,default:""}},setup(e){const n=e,l="bp-pagination",a=t.ref("");return t.watchEffect((()=>{a.value=n.tmpString.replace("{total}",n.value)})),(e,n)=>(t.openBlock(),t.createElementBlock("li",{class:t.normalizeClass([`${l}-item`,`${l}-total`])},[t.createElementVNode("span",{class:"page-text",textContent:t.toDisplayString(a.value)},null,8,pe)],2))}}),ye=["onClick"],ge={key:0},he={key:1,class:"ri-more-fill"},ve=t.defineComponent({name:"PaginationPager"}),be=t.defineComponent({...ve,props:{currentPage:{type:Number,default:1},pages:{type:Number,default:0},maxPager:{type:Number,default:0}},emits:["click"],setup(e,{emit:n}){const l=e,a="bp-pagination",o=t.ref([]);return t.watchEffect((()=>{const{pages:e,currentPage:t,maxPager:n}=l;if(o.value=[],e<n+1){for(let t=1;t<e+1;t++)o.value.push({index:t,type:"number"});return}const a=Number((n/2+1).toFixed()),r=n-2,s=t>=a,i=t<=Number(e-a);let c;o.value=[{index:1,type:"number"}],s&&o.value.push({index:t-r,type:"ellipsis"}),!s&&(c=2),s&&i&&(c=t-Number((r/2).toFixed())+1),!i&&(c=e-r);for(let l=c;l<r+c;l++)o.value.push({index:l,type:"number"});i&&o.value.push({index:t+r,type:"ellipsis"}),o.value.push({index:e,type:"number"})})),(l,r)=>(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(o.value,((l,o)=>(t.openBlock(),t.createElementBlock("li",{key:`page-item-${o}`,class:t.normalizeClass([`${a}-pager`,`${a}-item`,l.index===e.currentPage?`${a}-item-active`:""]),onClick:e=>{return t=l.index,void n("click",t);var t}},["number"===l.type?(t.openBlock(),t.createElementBlock("span",ge,t.toDisplayString(l.index),1)):(t.openBlock(),t.createElementBlock("i",he))],10,ye)))),128))}}),ke={key:0,class:"page-text"},Ce={key:1,class:"page-text"},Be=t.defineComponent({name:"PaginationJumper"}),Ve=t.defineComponent({...Be,props:{currentPage:{type:Number,default:1},pages:{type:Number,default:0},tmpString:{type:String,default:"前往{jumper}"}},emits:["change"],setup(e,{emit:n}){const l=e,a="bp-pagination",o=t.ref(),r=t.reactive({prefix:"",suffix:""}),s=()=>{let e=o.value??1;e<1&&(e=1),e>l.pages&&(e=l.pages),n("change",e)};return t.watchEffect((()=>{try{const e=l.tmpString.split("{jumper}");e.length>1&&(r.prefix=e[0],r.suffix=e[1])}catch(e){$("Pagination","Split jumper paramsStr failure")}})),(e,n)=>{const l=t.resolveComponent("bp-input-number");return t.openBlock(),t.createElementBlock("li",{class:t.normalizeClass([`${a}-item`,`${a}-jumper`])},[r.prefix?(t.openBlock(),t.createElementBlock("span",ke,t.toDisplayString(r.prefix),1)):t.createCommentVNode("",!0),t.createVNode(l,{min:1,precision:0,"hide-button":"",modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=e=>o.value=e),size:"small",onBlur:s},null,8,["modelValue"]),r.suffix?(t.openBlock(),t.createElementBlock("span",Ce,t.toDisplayString(r.suffix),1)):t.createCommentVNode("",!0)],2)}}}),we=t.defineComponent({name:"PaginationSizes"}),xe=t.defineComponent({...we,props:{currentSize:{type:Number,default:""},sizesList:{type:Array,default:()=>[]},tmpString:{type:String,default:""}},emits:["change"],setup(e,{emit:n}){const l=e,a="bp-pagination",o=t.ref(l.currentSize||l.sizesList[0]||10),r=t.ref([]),s=e=>{n("change",e)};return t.watchEffect((()=>{for(let e=0;e<l.sizesList.length;e++){const t=l.sizesList[e],n=`${l.tmpString.replace("{value}",t)}`;r.value.push({label:n,value:t})}})),(e,n)=>{const l=t.resolveComponent("bp-option"),i=t.resolveComponent("bp-select");return t.openBlock(),t.createElementBlock("li",{class:t.normalizeClass(`${a}-item ${a}-sizes`)},[t.createVNode(i,{modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=e=>o.value=e),style:{width:"100px"},onChange:s},{default:t.withCtx((()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.value,(e=>(t.openBlock(),t.createBlock(l,{value:e.value},{default:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(e.label),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])],2)}}}),Se=(e,n)=>{const l={prev:se,next:de,total:fe,pager:be,jumper:Ve,sizes:xe},a=t.ref(e.current||1),o=t.ref(e.pageSize),r=t.ref(0),s=(e,t)=>{let n=a.value;return"prev"===e?n--:"next"===e?n++:n=t??1,a.value=n<1?1:n>r.value?r.value:n,a.value};t.watchEffect((()=>{r.value=Math.ceil(e.total/o.value),a.value>r.value&&s("page",r.value)}));const i=t.computed((()=>({bind:{value:e.total,tmpString:e.totalTmpString}}))),c=t.computed((()=>({bind:{text:e.prevText,disabled:1===a.value},eventName:"click",event:()=>{const e=s("prev");n("update:current",e),n("page-change",e)}}))),u=t.computed((()=>({bind:{pages:r.value,maxPager:e.maxPager,currentPage:a.value},eventName:"click",event:e=>{const t=s("page",e);n("update:current",t),n("page-change",t)}}))),d=t.computed((()=>({bind:{pages:r.value,currentPage:a.value,tmpString:e.jumperTmpString},eventName:"change",event:e=>{const t=s("page",e);n("update:current",t),n("page-change",t)}}))),p=t.computed((()=>({bind:{text:e.nextText,disabled:a.value===r.value},eventName:"click",event:()=>{const e=s("next");n("update:current",e),n("page-change",e)}}))),m=t.computed((()=>({bind:{currentSize:o.value,sizesList:e.sizesList,tmpString:e.sizesTmpString},eventName:"change",event:e=>{const t=(l=e,o.value=l,o.value);var l;n("update:pageSize",t),n("size-change",t)}})));return{componentsList:t.computed((()=>{try{const t=e.layout.replace(/\s*/g,"").split(",")||[];if(0===t.length)return[];const n=[],a={total:i.value,prev:c.value,next:p.value,pager:u.value,jumper:d.value,sizes:m.value};return t.map((e=>{n.push({name:e,component:l[e],...a[e]})})),n}catch(t){$("Pagination","Render componentsList failure")}}))}};const Ne=o(t.defineComponent({name:"Pagination",props:{layout:{type:String,default:"prev, pager, next"},total:{type:Number,default:0},current:{type:Number,default:1},pageSize:{type:Number,default:()=>10},sizesList:{type:Array,default:()=>[10,20,50,100]},prevText:{type:String,default:""},nextText:{type:String,default:""},maxPager:{type:Number,default:7},totalTmpString:{type:String,default:"共 {total} 条"},jumperTmpString:{type:String,default:"前往{jumper}"},sizesTmpString:{type:String,default:"{value} 条/页"}},emits:["update:current","update:pageSize","page-change","size-change"],setup(e,{emit:t}){const{componentsList:n}=Se(e,t);return{name:"bp-pagination",componentsList:n}}}),[["render",function(e,n,l,a,o,r){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(e.name)},[t.createElementVNode("ul",{class:t.normalizeClass(`${e.name}-container`)},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.componentsList,(e=>(t.openBlock(),t.createBlock(t.resolveDynamicComponent(e.component),t.mergeProps(e.bind,{[t.toHandlerKey(e.eventName)]:e.event}),null,16)))),256))],2)],2)}]]);Ne.name=c()+Ne.name;const $e=Object.assign(Ne,{install:e=>{e.component(Ne.name,Ne)}}),Ee=(e,n,l)=>{const a=t.ref(null),o=t.ref([]),r=t.ref();let s=0,i=0,c=[],u=[];const d=80;let p=[];const m=()=>{var l,m;const g=a.value;if(p=(()=>{var e,l,a;if(!(null==(e=n.columns)?void 0:e.call(n)))return;const o=y(null==(l=n.columns)?void 0:l.call(n),!0).filter((e=>e.type!==t.Comment));if(0===o.length)return;let r=[];for(let t=0;t<o.length;t++)r.push(null==(a=o[t])?void 0:a.props);return r})()||e.cols,!(0===p.length||p.length>99)){i=0,s=p.length,c=[],(null==(l=e.selection)?void 0:l.type)&&!(null==(m=p[0])?void 0:m.type)&&(p.unshift({type:e.selection.type,width:46,align:"center"}),s++);for(let e=0;e<p.length;e++){const{width:t}=p[e],n=p[e].minWidth||p[e]["min-width"];t&&(i+=Number(t),s--),n&&c.push(Number(n))}r.value=g&&g.offsetWidth-2,u=function(){let e=[],t=f();c.length&&c.map(((e,n)=>{t>e&&(i+=e,s--,c.splice(n,1),t=f())}));for(let n=0;n<p.length;n++){const{width:l,minWidth:a}=p[n];if(l){e.push(l);continue}a&&a>t?e.push(a):e.push(t<d?d:t)}return e}()||[],o.value=[];for(let e=0;e<p.length;e++)o.value.push({...p[e],width:u[e]});return o.value}};function f(){let e=(r.value-i)/s;return Number(Number(e).toFixed(2))}return t.watch((()=>e.cols),(()=>{m()})),t.onMounted((()=>{t.nextTick((()=>{m(),S(window,"resize",x((()=>m()),400))}))})),t.onBeforeUnmount((()=>N(window,"resize",(()=>m())))),{initColumns:m,bpTable:a,table_width:r,columns:o}},ze=["name","width"],Oe=t.defineComponent({name:"TableColumns"}),Fe=t.defineComponent({...Oe,props:{cols:{type:Array,default:()=>[]}},setup:e=>(n,l)=>(t.openBlock(),t.createElementBlock("colgroup",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.cols,((e,n)=>(t.openBlock(),t.createElementBlock("col",{key:`bp-table-tr-${n}`,name:`bp_table_tr_${n}`,width:e.width},null,8,ze)))),128))]))}),Te={class:"bp-table-header-thead"},je=t.defineComponent({name:"TableHeader"}),Ae=t.defineComponent({...je,props:{headerList:{type:Array,default:()=>[]}},emits:["on-select-all"],setup(e,{expose:n,emit:l}){const a=e=>["bp-table-th",`text-${e.headerAlign||e.align||"left"}`],o=t.ref(!1),r=()=>{l("on-select-all",o.value)};return n({isSelectAll:o}),(n,l)=>{const s=t.resolveComponent("bp-checkbox");return t.openBlock(),t.createElementBlock(t.Fragment,null,[t.createVNode(Fe,{cols:e.headerList},null,8,["cols"]),t.createElementVNode("thead",Te,[t.createElementVNode("tr",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.headerList,(e=>(t.openBlock(),t.createElementBlock(t.Fragment,null,["checkbox"===e.type?(t.openBlock(),t.createElementBlock("th",{key:0,class:t.normalizeClass(a(e))},[t.createVNode(s,{modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=e=>o.value=e),onChange:r},null,8,["modelValue"])],2)):(t.openBlock(),t.createElementBlock("th",{key:1,class:t.normalizeClass(a(e))},t.toDisplayString(e.title),3))],64)))),256))])])],64)}}}),Le=t.defineComponent({name:"TableSelect",props:{modelValue:{type:Array,default:()=>[]},type:{type:String,default:"radio"},record:{type:Object},value:{type:[String,Number]}},emits:["update:modelValue","change"],setup(e,{emit:n}){const l={radio:I,checkbox:G},a=t.ref([]);return t.watch((()=>e.modelValue),(e=>{a.value=e}),{immediate:!0}),{selectValue:a,onSelectChange:()=>{n("update:modelValue",a.value),setTimeout((()=>{n("change",e.record)}),20)},selectionType:l}}}),qe={class:"bp-table-td-content"};const De=o(Le,[["render",function(e,n,l,a,o,r){return t.openBlock(),t.createElementBlock("span",qe,[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(e.selectionType[e.type]),{modelValue:e.selectValue,"onUpdate:modelValue":n[0]||(n[0]=t=>e.selectValue=t),value:e.value,onChange:e.onSelectChange},null,40,["modelValue","value","onChange"]))])}]]),_e=t.defineComponent({name:"TableBody",props:{data:{type:Array,default:()=>[]},modelValue:{type:Array,default:()=>[]},selection:{type:Object},rowKey:{type:String}},components:{TableSelect:De},emits:["update:modelValue","change"],setup(e,{slots:n,emit:l}){var a;const o=y(null==(a=n.default)?void 0:a.call(n),!0).filter((e=>e.type!==t.Comment)),r=t.ref(e.modelValue||[]);t.watch(r,(()=>{l("update:modelValue",r.value)})),t.watch((()=>e.modelValue),(()=>{r.value=e.modelValue}));const s=e=>{l("change",e)};return()=>t.createVNode("tbody",{class:"bp-table-body-tbody"},[e.data.map(((n,l)=>{var a,i;return t.createVNode("tr",null,[["radio","checkbox"].includes(null==(a=e.selection)?void 0:a.type)?t.createVNode("td",{class:"bp-table-td"},[t.createVNode(t.resolveComponent("table-select"),{modelValue:r.value,"onUpdate:modelValue":e=>r.value=e,record:n,type:null==(i=e.selection)?void 0:i.type,value:n[e.rowKey],onChange:s},null)]):null,o.map(((e,a)=>{const{dataIndex:o=a}=null==e?void 0:e.props,r=Object.assign({},e);return r.props=t.mergeProps(e.props,{record:n,rowIndex:l}),t.createVNode(t.Fragment,{key:`bp-table-column-${l}-${o}`},[r])}))])}))])}}),Pe={class:"bp-table-body-tbody"},Me={class:"bp-table-empty-tr"},Re=["colspan"],Ie=[t.createElementVNode("div",{class:"bp-table-empty-tr-inner"},[t.createElementVNode("i",{class:"ri-inbox-2-line"}),t.createElementVNode("span",null,"暂无数据")],-1)],Ke=t.defineComponent({name:"TableEmpty"}),Ue=t.defineComponent({...Ke,props:{colspan:{type:Number,default:0}},setup:e=>(n,l)=>(t.openBlock(),t.createElementBlock("tbody",Pe,[t.createElementVNode("tr",Me,[t.createElementVNode("td",{colspan:e.colspan},Ie,8,Re)])]))}),We=t.defineComponent({name:"Spin",props:{loading:{type:Boolean,default:!1},tip:{type:String,default:""}},setup:(e,{slots:t})=>({name:"bp-spin",slots:t})}),Ge=t.createElementVNode("i",{class:"bp-icon-loading ri-loader-4-line"},null,-1),He=[t.createElementVNode("i",{class:"bp-icon-loading ri-loader-4-line"},null,-1)];const Je=o(We,[["render",function(e,n,l,a,o,r){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(e.name)},[t.renderSlot(e.$slots,"default"),e.slots.default&&e.loading?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(`${e.name}-mask`)},[t.createElementVNode("div",{class:t.normalizeClass(`${e.name}-loading`)},[Ge,t.createElementVNode("p",{class:t.normalizeClass(`${e.name}-tip`)},t.toDisplayString(e.tip),3)],2)],2)):e.loading?(t.openBlock(),t.createElementBlock("div",{key:1,class:t.normalizeClass(`${e.name}-loading`)},He,2)):t.createCommentVNode("",!0)],2)}]]);Je.name=c()+Je.name;const Ye=Object.assign(Je,{install:e=>{e.component(Je.name,Je)}}),Ze=t.defineComponent({name:"Table",components:{TableHeader:Ae,TableEmpty:Ue,TableBody:_e,TableSelect:De,bpSpin:Ye},props:{cols:{type:Array,default:()=>[]},data:{type:Array,default:()=>[]},height:{type:String,default:""},loading:{type:Boolean,default:!1},border:{type:Boolean,default:!1},stripe:{type:Boolean,default:!1},rowKey:{type:String},selection:{type:Object},selectedKey:{type:Array,default:()=>[]}},emits:["update:selectedKey","selection-change","select-all","select"],setup(e,{slots:n,emit:l}){const a=t.ref();let{bpTable:o,columns:r,table_width:s}=Ee(e,n),{selectedData:i,onSelectChange:c,onSelectAll:u}=((e,n,l)=>{const a=t.ref([]);return t.watch(a,(()=>{var t;l.value&&(l.value.isSelectAll=0!==e.data.length&&(null==(t=a.value)?void 0:t.length)===e.data.length),n("selection-change",a.value),n("update:selectedKey",a.value)})),{onSelectChange:t=>{n("select",a.value,t[e.rowKey],t)},onSelectAll:t=>{if(n("select-all",t),t){a.value=[];for(let t=0;t<e.data.length;t++){const n=e.data[t];a.value.push(n[e.rowKey])}}else a.value=[]},selectedData:a}})(e,l,a);const d=t.computed((()=>0===e.data.length)),p=t.computed((()=>e.border)),m=t.computed((()=>e.stripe)),f=t.computed((()=>e.height));t.watch((()=>e.selectedKey),(()=>{i.value=e.selectedKey}),{immediate:!0});const y=t.computed((()=>e.height?`width:${s.value}px;max-height:${e.height}px;height:${e.height}px;overflow-y:auto`:`width:${s.value}px`)),g=t.computed((()=>["bp-table-inner",{"bp-table-border":p.value},{"bp-table-stripe":m.value},{"bp-table-fixed-header":f.value}]));return{slots:n,bpTable:o,tableHeaderRef:a,columns:r,table_width:s,isEmpty:d,selectedData:i,bodyAreaStyle:y,innerClass:g,tdClass:e=>["bp-table-td",`text-${e.align||"left"}`],onSelectChange:c,onSelectAll:u}}}),Xe={class:"bp-table",ref:"bpTable"},Qe=t.createElementVNode("div",{class:"scrollbar"},null,-1),et={key:2,class:"bp-table-body-tbody"},tt={key:1,class:"bp-table-td-content"},nt={key:0};const lt=o(Ze,[["render",function(e,n,l,a,o,r){const s=t.resolveComponent("table-header"),i=t.resolveComponent("table-empty"),c=t.resolveComponent("table-body"),u=t.resolveComponent("table-select"),d=t.resolveComponent("bp-spin");return t.openBlock(),t.createBlock(d,{loading:e.loading},{default:t.withCtx((()=>[t.createElementVNode("div",Xe,[t.createElementVNode("div",{class:t.normalizeClass(e.innerClass)},[t.createElementVNode("div",{class:"bp-table-body-area",style:t.normalizeStyle(e.bodyAreaStyle)},[Qe,t.createElementVNode("table",{class:"bp-table-body",style:t.normalizeStyle(`width:${e.table_width}px`)},[t.createVNode(s,{ref:"tableHeaderRef","header-list":e.columns,onOnSelectAll:e.onSelectAll},null,8,["header-list","onOnSelectAll"]),e.isEmpty?(t.openBlock(),t.createBlock(i,{key:0,colspan:e.columns.length},null,8,["colspan"])):!e.isEmpty&&e.slots.columns?(t.openBlock(),t.createBlock(c,{key:1,modelValue:e.selectedData,"onUpdate:modelValue":n[0]||(n[0]=t=>e.selectedData=t),data:e.data,selection:e.selection,"row-key":e.rowKey,onChange:e.onSelectChange},{default:t.withCtx((()=>[t.renderSlot(e.$slots,"columns")])),_:3},8,["modelValue","data","selection","row-key","onChange"])):(t.openBlock(),t.createElementBlock("tbody",et,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.data,((l,a)=>(t.openBlock(),t.createElementBlock("tr",{key:`bp-table-tbody-tr-${a}`},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.columns,((o,r)=>(t.openBlock(),t.createElementBlock("td",{key:`bp-table-tbody-td-${a}-${r}`,class:t.normalizeClass(e.tdClass(o))},[["radio","checkbox"].includes(o.type)?(t.openBlock(),t.createBlock(u,{key:0,modelValue:e.selectedData,"onUpdate:modelValue":n[1]||(n[1]=t=>e.selectedData=t),type:o.type,record:l,value:l[e.rowKey],onChange:e.onSelectChange},null,8,["modelValue","type","record","value","onChange"])):(t.openBlock(),t.createElementBlock("span",tt,[o.scope?t.renderSlot(e.$slots,o.scope.customRender,{key:1,row:l,index:a,data:l[o.dataIndex]}):(t.openBlock(),t.createElementBlock("span",nt,t.toDisplayString(l[o.dataIndex]),1))]))],2)))),128))])))),128))]))],4)],4)],2)],512)])),_:3},8,["loading"])}]]),at=t.defineComponent({name:"TableColumn",props:{title:{type:String},record:{type:Object,default:()=>{}},dataIndex:{type:String},rowIndex:{type:Number},width:{type:[Number,String]},minWidth:{type:[Number,String]},align:{type:String,default:"left"},ellipsis:{type:Boolean,default:!1},tooltip:{type:Boolean,default:!1}},setup:(e,{slots:n})=>({hasCustomCell:t.computed((()=>!!(null==n?void 0:n.cell))),tdClass:t.computed((()=>["bp-table-td",`text-${e.align||"left"}`]))})}),ot={class:"bp-table-td-content"},rt={class:"text-ellipsis"};const st=o(at,[["render",function(e,n,l,a,o,r){const s=t.resolveComponent("bp-tooltip");return t.openBlock(),t.createElementBlock("td",{class:t.normalizeClass(e.tdClass)},[t.createElementVNode("span",ot,[e.hasCustomCell?(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[e.tooltip?(t.openBlock(),t.createBlock(s,{key:0,content:e.record[e.dataIndex]},{default:t.withCtx((()=>[t.createElementVNode("span",{class:t.normalizeClass([{"text-ellipsis":e.ellipsis}])},[t.renderSlot(e.$slots,"cell",{record:e.record,rowIndex:e.rowIndex})],2)])),_:3},8,["content"])):t.renderSlot(e.$slots,"cell",{key:1,record:e.record,rowIndex:e.rowIndex})],64)):(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[e.tooltip?(t.openBlock(),t.createBlock(s,{key:0,content:e.record[e.dataIndex]},{default:t.withCtx((()=>[t.createElementVNode("span",rt,t.toDisplayString(e.record[e.dataIndex]),1)])),_:1},8,["content"])):e.tooltip?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("span",{key:1,class:t.normalizeClass([{"text-ellipsis":e.ellipsis}])},t.toDisplayString(e.record[e.dataIndex]),3))],64))])],2)}]]);lt.name=c()+lt.name,st.name=c()+st.name;const it=Object.assign(lt,{install:e=>{e.component(lt.name,lt),e.component(st.name,st)}}),ct=t.defineComponent({name:"Space",props:{size:{type:[Number,String],default:"normal"},type:{type:String,default:"horizontal"},justify:{type:String,default:"flex-start"},align:{type:String,default:"flex-start"}},setup(e,{slots:n}){const l=w(e.size)?{mini:4,small:8,normal:10,large:24}[e.size]:e.size;return()=>{var a;const o=y(null==(a=n.default)?void 0:a.call(n),!0).filter((e=>e.type!==t.Comment));return t.createVNode("div",{class:["bp-space",`bp-space-${e.type}`],style:`justify-content:${e.justify};align-items:${e.align}`},[o.map(((a,o)=>{var r;const s=n.split&&o>0;return t.createVNode(t.Fragment,{key:a.key??`item-${o}`},[s&&t.createVNode("div",{class:"bp-space-item",style:"horizontal"===e.type?`margin: 0 ${l}px`:`margin: ${l}px 0`},[null==(r=n.split)?void 0:r.call(n)]),t.createVNode("div",{class:"bp-space-item",style:"horizontal"===e.type?`margin: 0 ${l}px`:`margin: ${l}px 0`},[a])])}))])}}});ct.name=c()+ct.name;const ut=Object.assign(ct,{install:e=>{e.component(ct.name,ct)}}),dt=t.defineComponent({name:"Alert",props:{type:{type:String,default:"info"},title:{type:String,default:""},closeable:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:n,slots:l}){const a="bp-alert",o=t.computed((()=>[a,`${a}-${e.type}`,e.title?`${a}-with-title`:""])),r=t.ref(!0);return{name:a,cls:o,isRender:r,handleClose:()=>{r.value=!1,n("close")},slots:l}}}),pt={key:0,class:"ri-information-fill"},mt={key:1,class:"ri-checkbox-circle-fill"},ft={key:2,class:"ri-error-warning-fill"},yt={key:3,class:"ri-close-circle-fill"},gt=["textContent"],ht={key:0,class:"ri-close-line"},vt={key:1};const bt=o(dt,[["render",function(e,n,l,a,o,r){return e.isRender?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(e.cls)},[t.createElementVNode("div",{class:t.normalizeClass(`${e.name}-icon`)},["info"===e.type?(t.openBlock(),t.createElementBlock("i",pt)):t.createCommentVNode("",!0),"success"===e.type?(t.openBlock(),t.createElementBlock("i",mt)):t.createCommentVNode("",!0),"warning"===e.type?(t.openBlock(),t.createElementBlock("i",ft)):t.createCommentVNode("",!0),"error"===e.type?(t.openBlock(),t.createElementBlock("i",yt)):t.createCommentVNode("",!0)],2),t.createElementVNode("div",{class:t.normalizeClass(`${e.name}-body`)},[e.title?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(`${e.name}-title`)},[t.createElementVNode("span",{textContent:t.toDisplayString(e.title)},null,8,gt)],2)):t.createCommentVNode("",!0),t.createElementVNode("div",{class:t.normalizeClass(`${e.name}-content`)},[t.createElementVNode("span",null,[t.renderSlot(e.$slots,"default")])],2)],2),t.createElementVNode("div",{class:t.normalizeClass(`${e.name}-option`)},[e.closeable?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(`${e.name}-close-inner`),onClick:n[0]||(n[0]=(...t)=>e.handleClose&&e.handleClose(...t))},[e.slots.close?(t.openBlock(),t.createElementBlock("span",vt,[t.renderSlot(e.$slots,"close")])):(t.openBlock(),t.createElementBlock("i",ht))],2)):t.createCommentVNode("",!0)],2)],2)):t.createCommentVNode("",!0)}]]);bt.name=c()+bt.name;const kt=Object.assign(bt,{install:e=>{e.component(bt.name,bt)}});const Ct=o(t.defineComponent({name:"Tag",props:{status:{type:String,default:"normal"},dot:{type:Boolean,default:!1},closeable:{type:Boolean,default:!1}},setup(e){const n="bp-tag",l=t.computed((()=>[n,e.dot?`${n}-dot-box`:`${n}-${e.status}`])),a=t.ref(!0);return{name:n,cls:l,visible:a,handleClose:()=>{e.closeable&&(a.value=!1)}}}}),[["render",function(e,n,l,a,o,r){return e.visible?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(e.cls)},[e.dot?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass([`${e.name}-dot`,`${e.name}-dot-${e.status}`])},null,2)):t.createCommentVNode("",!0),t.createElementVNode("span",{class:t.normalizeClass(`${e.name}-inner`)},[t.renderSlot(e.$slots,"default")],2),e.closeable?(t.openBlock(),t.createElementBlock("i",{key:1,class:"ri-close-line",onClick:n[0]||(n[0]=(...t)=>e.handleClose&&e.handleClose(...t))})):t.createCommentVNode("",!0)],2)):t.createCommentVNode("",!0)}]]);Ct.name=c()+Ct.name;const Bt=Object.assign(Ct,{install:e=>{e.component(Ct.name,Ct)}});const Vt=o(t.defineComponent({name:"Modal",props:{modelValue:{type:Boolean,default:!1},title:{type:String,default:"标题"},titleAlign:{type:String,default:"left"},width:{type:String,default:"600px"},top:{type:String,default:"20vh"},hideFooter:{type:Boolean,default:!1},hideClose:{type:Boolean,default:!1},border:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0},okLoading:{type:Boolean,default:!1},okText:{type:String,default:"确认"},cancleText:{type:String,default:"取消"},onBeforeOk:{type:Function,default:()=>!0}},emits:["update:modelValue","ok","cancle"],setup(e,{emit:n,slots:l}){const a="bp-modal",o=t.ref(!1),r=t.computed((()=>{let t=[a];return e.border&&t.push(`${a}-border`),t.push(`${a}-title-${e.titleAlign}`),t})),s=()=>{n("cancle"),n("update:modelValue",!1)},i=t.ref(!1);return t.watch((()=>e.modelValue),(()=>{e.modelValue?o.value=!0:setTimeout((()=>{o.value=!1}),200)})),{name:a,cls:r,confirmLoading:i,containerVisable:o,handleMaskClick:()=>{e.maskClosable&&s()},handleCancle:s,handleOk:async()=>{try{i.value=!0;if(!(await e.onBeforeOk()))return;n("ok"),n("update:modelValue",!1)}catch(t){console.log("[ Modal -onBeforeOk error]",t)}finally{i.value=!1}},slots:l}}}),[["render",function(e,n,l,a,o,r){const s=t.resolveComponent("bp-button"),i=t.resolveComponent("bp-space");return t.openBlock(),t.createBlock(t.Teleport,{to:"body"},[t.withDirectives(t.createElementVNode("div",{class:t.normalizeClass(`${e.name}-container`)},[t.createVNode(t.Transition,{name:"fade-modal-mask"},{default:t.withCtx((()=>[t.withDirectives(t.createElementVNode("div",{class:t.normalizeClass(`${e.name}-mask`)},null,2),[[t.vShow,e.modelValue]])])),_:1}),t.createVNode(t.Transition,{name:"modal-fade"},{default:t.withCtx((()=>[t.withDirectives(t.createElementVNode("div",{class:t.normalizeClass(`${e.name}-wrapper`),onClick:n[1]||(n[1]=t.withModifiers(((...t)=>e.handleMaskClick&&e.handleMaskClick(...t)),["self"]))},[t.createElementVNode("div",{class:t.normalizeClass(e.cls),style:t.normalizeStyle(`width:${e.width};top:${e.top}`)},[t.createElementVNode("div",{class:t.normalizeClass(`${e.name}-header`)},[t.createElementVNode("p",{class:t.normalizeClass(`${e.name}-header-title`)},t.toDisplayString(e.title),3),e.hideClose?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("i",{key:0,class:t.normalizeClass([`${e.name}-header-close`,"ri-close-line"]),onClick:n[0]||(n[0]=(...t)=>e.handleCancle&&e.handleCancle(...t))},null,2))],2),t.createElementVNode("div",{class:t.normalizeClass(`${e.name}-body`)},[t.renderSlot(e.$slots,"default")],2),e.hideFooter?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(`${e.name}-footer`)},[e.slots.footer?t.createCommentVNode("",!0):(t.openBlock(),t.createBlock(i,{key:0,justify:"flex-end",size:"small"},{default:t.withCtx((()=>[t.createVNode(s,{type:"plain",onClick:e.handleCancle},{default:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(e.cancleText),1)])),_:1},8,["onClick"]),t.createVNode(s,{onClick:e.handleOk,loading:e.confirmLoading||e.okLoading,type:"primary",status:"primary"},{default:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(e.okText),1)])),_:1},8,["onClick","loading"])])),_:1})),t.renderSlot(e.$slots,"footer")],2))],6)],2),[[t.vShow,e.modelValue]])])),_:3})],2),[[t.vShow,e.containerVisable]])])}]]);Vt.name=c()+Vt.name;const wt=Object.assign(Vt,{install:e=>{e.component(Vt.name,Vt)}});const xt=o(t.defineComponent({name:"Col",props:{span:{type:[String,Number],default:24},offset:{type:[String,Number],default:""},xs:{type:[Object,Number]},sm:{type:[Object,Number]},md:{type:[Object,Number]},lg:{type:[Object,Number]},xl:{type:[Object,Number]}},setup(e){const n="col",l=t.computed((()=>{let t=[`bp-${n}`];0!==Number(e.span)&&t.push(`bp-${n}-${e.span}`),0!==Number(e.offset)&&t.push(`bp-${n}-offset-${e.offset}`);const l=["xs","sm","md","lg","xl"];for(let a=0;a<l.length;a++){const o=l[a];e[o]&&("number"!=typeof e[o]?V(e[o])||(e[o].span&&t.push(`bp-${n}-${o}-${e[o].span}`),e[o].offset&&t.push(`bp-${n}-${o}-offset-${e[o].offset}`)):t.push(`bp-${n}-${o}-${e[o]}`))}return t}));return{name:n,cls:l}}}),[["render",function(e,n,l,a,o,r){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(e.cls)},[t.renderSlot(e.$slots,"default")],2)}]]);const St=o(t.defineComponent({name:"Row",props:{gutter:{type:[String,Number],default:""},justify:{type:String,default:"start"},align:{type:String,default:"start"}},setup(e,{slots:n}){const l=t.ref(),a=t.computed((()=>["bp-row",`bp-justify-${e.justify}`,`bp-align-${e.align}`])),o=t=>{const n=l.value.children;t.forEach(((t,l)=>{if(t.type===xt){const t=n[l];return 0!==l&&(t.style.paddingLeft=`${e.gutter}px`),void(l!==n.length-1&&(t.style.paddingRight=`${e.gutter}px`))}"Symbol(Fragment)"===t.type.toString()&&o(t.children)}))};return t.onMounted((()=>{t.nextTick((()=>o(n.default())))})),{rowRef:l,name:"row",cls:a}}}),[["render",function(e,n,l,a,o,r){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(e.cls),ref:"rowRef"},[t.renderSlot(e.$slots,"default")],2)}]]);St.name=c()+St.name,xt.name=c()+xt.name;const Nt=Object.assign(St,{Col:xt,install:e=>{e.component(St.name,St),e.component(xt.name,xt)}}),$t=t.defineComponent({name:"Link",props:{href:{type:String,default:"javascript:;"},status:{type:String,default:"primary"},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},target:{type:String,default:"_self"}},emits:{click:e=>!0},setup(e,{emit:n}){const l="bp-link",a=t.computed((()=>{let t=[l,`${l}-status-${e.status}`];return(e.disabled||e.loading)&&t.push(`${l}-disabled`),t}));return{name:l,clsName:a,handleClick:t=>{e.disabled||n("click",t)}}}}),Et=["disabled","href","target"],zt={key:0,class:"left-icon"},Ot=[t.createElementVNode("i",{class:"bp-icon-loading ri-loader-4-line"},null,-1)];const Ft=o($t,[["render",function(e,n,l,a,o,r){return t.openBlock(),t.createElementBlock("a",{onClick:n[0]||(n[0]=(...t)=>e.handleClick&&e.handleClick(...t)),disabled:e.disabled,class:t.normalizeClass(e.clsName),href:e.href,target:e.target},[e.loading?(t.openBlock(),t.createElementBlock("span",zt,Ot)):t.createCommentVNode("",!0),t.renderSlot(e.$slots,"default")],10,Et)}]]);Ft.name=c()+Ft.name;const Tt=Object.assign(Ft,{install:e=>{e.component(Ft.name,Ft)}}),jt=t.defineComponent({name:"Popconfirm",props:{content:{type:String,default:""},type:{type:String,default:"info"},position:{type:String,default:"top"},okText:{type:String,default:"确认"},cancleText:{type:String,default:"取消"},onBeforeOk:{type:Function,default:()=>!0}},directives:{clickOutside:ee},emits:["ok","cancle"],setup(e,{emit:n}){const l=t.ref(!1),a=t.ref(!1);return{name:"bp-popconfirm",show:l,okLoading:a,handleCancle:()=>{l.value=!1,n("cancle")},handleOk:async()=>{try{a.value=!0;if(!(await e.onBeforeOk()))return;l.value=!1,n("ok")}catch(t){console.log("[ Popconfirm -onBeforeOk error]",t)}finally{a.value=!1}}}}}),At={key:0,class:"ri-checkbox-circle-fill"},Lt={key:1,class:"ri-close-circle-fill"},qt={key:2,class:"ri-error-warning-fill"},Dt={key:3,class:"ri-information-fill"};const _t=o(jt,[["render",function(e,n,l,a,o,r){const s=t.resolveComponent("bp-button"),i=t.resolveComponent("bp-space"),c=t.resolveComponent("bp-trigger");return t.openBlock(),t.createBlock(c,{"popup-visible":e.show,"onUpdate:popupVisible":n[0]||(n[0]=t=>e.show=t),class:t.normalizeClass(e.name),"popup-offset":10,position:e.position},{content:t.withCtx((()=>[t.createElementVNode("div",{class:t.normalizeClass(`${e.name}-inner`)},[t.createElementVNode("div",{class:t.normalizeClass(`${e.name}-inner-content`)},[t.createElementVNode("span",{class:t.normalizeClass(`${e.name}-icon`)},["success"===e.type?(t.openBlock(),t.createElementBlock("i",At)):t.createCommentVNode("",!0),"danger"===e.type?(t.openBlock(),t.createElementBlock("i",Lt)):t.createCommentVNode("",!0),"warning"===e.type?(t.openBlock(),t.createElementBlock("i",qt)):t.createCommentVNode("",!0),"info"===e.type?(t.openBlock(),t.createElementBlock("i",Dt)):t.createCommentVNode("",!0)],2),t.createElementVNode("span",{class:t.normalizeClass(`${e.name}-text`)},t.toDisplayString(e.content),3)],2),t.createElementVNode("div",{class:t.normalizeClass(`${e.name}-inner-footer`)},[t.createVNode(i,{size:"mini",justify:"flex-end"},{default:t.withCtx((()=>[t.createVNode(s,{onClick:e.handleCancle,size:"mini"},{default:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(e.cancleText),1)])),_:1},8,["onClick"]),t.createVNode(s,{onClick:e.handleOk,loading:e.okLoading,size:"mini",type:"primary",status:"primary"},{default:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(e.okText),1)])),_:1},8,["onClick","loading"])])),_:1})],2)],2)])),default:t.withCtx((()=>[t.createElementVNode("div",{class:t.normalizeClass(`${e.name}-slot`)},[t.renderSlot(e.$slots,"default")],2)])),_:3},8,["popup-visible","class","position"])}]]);_t.name=c()+_t.name;const Pt=Object.assign(_t,{install:e=>{e.component(_t.name,_t)}}),Mt=t.defineComponent({name:"Image",props:{src:{type:String,default:""},fit:{type:String,default:"fill"},alt:{type:String,default:""},title:{type:String,default:""},width:{type:[String,Number]},height:{type:[String,Number]}},emits:["load","error"],setup(e,{emit:n}){const l=t.ref(),a=t.ref("loading"),o=t.computed((()=>"loading"===a.value)),r=t.computed((()=>"error"===a.value)),s=t.computed((()=>({width:`${e.width}px`,height:`${e.height}px`}))),i=t.computed((()=>e.fit?{objectFit:e.fit}:{}));return t.watchEffect((()=>{e.src&&l.value&&(l.value.src=e.src)})),{name:"bp-image",imageRef:l,loadStatus:a,onLoad:()=>{a.value="load",n("load")},onError:()=>{a.value="error",n("error")},imgStyle:s,fitStyle:i,isLoading:o,isError:r}}}),Rt=["alt","title"],It=[t.createElementVNode("span",null,"加载中",-1)],Kt=[t.createElementVNode("i",{class:"ri-image-2-line"},null,-1)];const Ut=o(Mt,[["render",function(e,n,l,a,o,r){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(e.name),style:t.normalizeStyle(e.imgStyle)},[t.createElementVNode("img",{ref:"imageRef",alt:e.alt,title:e.title,style:t.normalizeStyle({...e.imgStyle,...e.fitStyle}),onLoad:n[0]||(n[0]=(...t)=>e.onLoad&&e.onLoad(...t)),onError:n[1]||(n[1]=(...t)=>e.onError&&e.onError(...t))},null,44,Rt),e.isLoading?t.renderSlot(e.$slots,"loading",{key:0},(()=>[t.createElementVNode("div",{class:t.normalizeClass(`${e.name}-loading`)},It,2)])):t.createCommentVNode("",!0),!e.isLoading&&e.isError?t.renderSlot(e.$slots,"error",{key:1},(()=>[t.createElementVNode("div",{class:t.normalizeClass(`${e.name}-error`)},Kt,2)])):t.createCommentVNode("",!0)],6)}]]);Ut.name=c()+Ut.name;const Wt=Object.assign(Ut,{install:e=>{e.component(Ut.name,Ut)}});const Gt=o(t.defineComponent({name:"Drawer",props:{modelValue:{type:Boolean,default:!1},title:{type:String,default:"标题"},titleAlign:{type:String,default:"left"},width:{type:String,default:"360px"},hideFooter:{type:Boolean,default:!1},hideClose:{type:Boolean,default:!1},border:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0},okLoading:{type:Boolean,default:!1},okText:{type:String,default:"确认"},cancleText:{type:String,default:"取消"},onBeforeOk:{type:Function,default:()=>!0}},emits:["update:modelValue","ok","cancle"],setup(e,{emit:n,slots:l}){const a="bp-drawer",o=t.ref(!1),r=t.computed((()=>{let t=[a];return e.border&&t.push(`${a}-border`),t.push(`${a}-title-${e.titleAlign}`),t})),s=()=>{n("cancle"),n("update:modelValue",!1)},i=t.ref(!1),{move:c,stop:u}=(()=>{const e=t.ref(0);return{pageLocation:e,stop:function(){let t=window.scrollY;e.value=t,document.body.style.overflow="hidden"},move:function(){document.body.style.overflow="auto",window.scrollTo(0,e.value)}}})();return t.watch((()=>e.modelValue),(()=>{if(e.modelValue)return o.value=!0,void u();setTimeout((()=>{o.value=!1,c()}),200)})),{name:a,cls:r,confirmLoading:i,containerVisable:o,handleMaskClick:()=>{e.maskClosable&&s()},handleCancle:s,handleOk:async()=>{try{i.value=!0;if(!(await e.onBeforeOk()))return;n("ok"),n("update:modelValue",!1)}catch(t){console.log("[ Drawer -onBeforeOk error]",t)}finally{i.value=!1}},slots:l}}}),[["render",function(e,n,l,a,o,r){const s=t.resolveComponent("bp-button"),i=t.resolveComponent("bp-space");return t.openBlock(),t.createBlock(t.Teleport,{to:"body"},[t.withDirectives(t.createElementVNode("div",{class:t.normalizeClass(`${e.name}-container`)},[t.createVNode(t.Transition,{name:"fade-modal-mask"},{default:t.withCtx((()=>[t.withDirectives(t.createElementVNode("div",{class:t.normalizeClass(`${e.name}-mask`)},null,2),[[t.vShow,e.modelValue]])])),_:1}),t.createVNode(t.Transition,{name:"drawer-fade"},{default:t.withCtx((()=>[t.withDirectives(t.createElementVNode("div",{class:t.normalizeClass(`${e.name}-wrapper`),onClick:n[1]||(n[1]=t.withModifiers(((...t)=>e.handleMaskClick&&e.handleMaskClick(...t)),["self"]))},[t.createElementVNode("div",{class:t.normalizeClass(e.cls),style:t.normalizeStyle(`width:${e.width};`)},[t.createElementVNode("div",{class:t.normalizeClass(`${e.name}-header`)},[t.createElementVNode("p",{class:t.normalizeClass(`${e.name}-header-title`)},t.toDisplayString(e.title),3),e.hideClose?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("i",{key:0,class:t.normalizeClass([`${e.name}-header-close`,"ri-close-line"]),onClick:n[0]||(n[0]=(...t)=>e.handleCancle&&e.handleCancle(...t))},null,2))],2),t.createElementVNode("div",{class:t.normalizeClass(`${e.name}-body`)},[t.renderSlot(e.$slots,"default")],2),e.hideFooter?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(`${e.name}-footer`)},[e.slots.footer?t.createCommentVNode("",!0):(t.openBlock(),t.createBlock(i,{key:0,justify:"flex-end",size:"small"},{default:t.withCtx((()=>[t.createVNode(s,{type:"plain",onClick:e.handleCancle},{default:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(e.cancleText),1)])),_:1},8,["onClick"]),t.createVNode(s,{onClick:e.handleOk,loading:e.confirmLoading||e.okLoading,type:"primary",status:"primary"},{default:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(e.okText),1)])),_:1},8,["onClick","loading"])])),_:1})),t.renderSlot(e.$slots,"footer")],2))],6)],2),[[t.vShow,e.modelValue]])])),_:3})],2),[[t.vShow,e.containerVisable]])])}]]);Gt.name=c()+Gt.name;const Ht=Object.assign(Gt,{install:e=>{e.component(Gt.name,Gt)}}),Jt=t.defineComponent({name:"Tooltip",props:{content:{type:String,default:""},trigger:{type:String,default:"hover"}},directives:{clickOutside:ee},setup(e,{slots:n}){const l=t.ref(),a=t.ref(),o=t.ref(!1),r=t.ref(!1),s=()=>{var e;const t=null==(e=a.value)?void 0:e.getBoundingClientRect();if(!t)return;const n=t.top-10+document.documentElement.scrollTop;l.value&&l.value.setAttribute("style",`top:${n}px;left:${t.left+t.width/2}px;transform: translateX(-50%) translateY(-100%);display:${r.value?"block":"none"}`)},i=()=>{o.value=!0,setTimeout((()=>{s(),r.value=!0}),0)},c=()=>{r.value&&(r.value=!1,t.nextTick((()=>{o.value=!1})))};return t.onMounted((()=>{t.nextTick((()=>{S(window,"resize",x(s,100))}))})),t.onBeforeUnmount((()=>{N(window,"resize",s)})),{name:"bp-tooltip",slotRef:a,containerRef:l,show:o,visible:r,slots:n,mouseenter:()=>{"click"!==e.trigger&&i()},mouseleave:()=>{"click"!==e.trigger&&c()},openTool:i,closeTool:c,handleClick:()=>{"hover"!==e.trigger&&(o.value?c():i())}}}}),Yt=t.createElementVNode("div",{class:"triangle"},null,-1);const Zt=o(Jt,[["render",function(e,n,l,a,o,r){const s=t.resolveDirective("clickOutside");return t.openBlock(),t.createElementBlock(t.Fragment,null,[e.show?(t.openBlock(),t.createBlock(t.Teleport,{key:0,to:"body"},[t.createVNode(t.Transition,{name:"tooltip-fade"},{default:t.withCtx((()=>[t.withDirectives((t.openBlock(),t.createElementBlock("div",{ref:"containerRef",class:t.normalizeClass(`${e.name}-container`)},[t.createElementVNode("div",{class:t.normalizeClass(`${e.name}-content`)},[e.slots.content?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[t.createTextVNode(t.toDisplayString(e.content),1)],64)),t.renderSlot(e.$slots,"content")],2),Yt],2)),[[t.vShow,e.visible],[s,"click"===e.trigger&&e.closeTool]])])),_:3})])):t.createCommentVNode("",!0),t.createElementVNode("div",{ref:"slotRef",class:t.normalizeClass(`${e.name}-inner`),onClick:n[0]||(n[0]=(...t)=>e.handleClick&&e.handleClick(...t)),onMouseenter:n[1]||(n[1]=(...t)=>e.mouseenter&&e.mouseenter(...t)),onMouseleave:n[2]||(n[2]=(...t)=>e.mouseleave&&e.mouseleave(...t))},[t.renderSlot(e.$slots,"default")],34)],64)}]]);Zt.name=c()+Zt.name;const Xt=Object.assign(Zt,{install:e=>{e.component(Zt.name,Zt)}});class Qt{constructor(){l(this,"top",0),l(this,"left",0),l(this,"width")}}const en=t.defineComponent({name:"Trigger",directives:{clickOutside:ee},props:{popupVisible:{type:Boolean,default:!1},trigger:{type:String,default:"click"},position:{type:String,default:"bottom"},popupOffset:{type:Number,default:10},autoFitWidth:{type:Boolean,default:!1},transition:{type:String,default:"fade"},clickOutside:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},emits:["update:popupVisible"],setup(e,{emit:n,slots:l}){const a="bp-trigger",o=t.ref(),r=t.ref(),s=t.ref(e.popupVisible||!1),i=t.ref(!0),c=()=>{"hover"===e.trigger||e.disabled||(p(),f(!s.value))},u=()=>{"click"!==e.trigger&&(p(),f(!0))},d=()=>{"click"!==e.trigger&&f(!1)},p=()=>{if(!o.value)return;const t=(e=>{e.setAttribute("style","display:block;opacity:0;visibility: hidden;");const{width:t,height:n}=e&&(null==e?void 0:e.getBoundingClientRect());return e.setAttribute("style","display:none"),{width:t,height:n}})(r.value),{top:n,left:l,width:a}=((e,t,n,l,a)=>{const o=e&&(null==e?void 0:e.getBoundingClientRect());if(!o)return new Qt;const{top:r,left:s,width:i,height:c}=o,u=document.documentElement.scrollTop||0,d=a?i:n.width;let p=new Qt;switch(t){case"top":p={top:r+u-l-n.height,left:s+i/2-d/2};break;case"bottom":p={top:r+c+u+l,left:s+i/2-d/2};break;case"left":p={top:r+c/2+u-n.height/2,left:s-l-d};break;case"right":p={top:r+c/2+u-n.height/2,left:s+i+l};break;case"left-top":p={top:r+u-l-n.height,left:s-d};break;case"left-bottom":p={top:r+c+u+l,left:s-d};break;case"right-top":p={top:r+u-n.height,left:s+i+l};break;case"right-bottom":p={top:r+u+c,left:s+i+l}}return p.width=i,p})(o.value.children[0],e.position,{...t},e.popupOffset,e.autoFitWidth),i=((e,t,n,l)=>{let a=`top:${e}px;left:${t}px;display:${n?"block":"none"};`;return l&&(a+=`width:${l}px`),a})(n,l,s.value,e.autoFitWidth?a:null);r.value.setAttribute("style",i)},m=()=>{e.clickOutside&&!i.value&&f(!1)},f=(l,a=100)=>{s.value=l,n("update:popupVisible",s.value),t.nextTick((()=>{setTimeout((()=>{"click"===e.trigger&&(i.value=!s.value)}),a)}))};t.onMounted((()=>{t.nextTick((()=>{S(window,"resize",p)}))})),t.onBeforeUnmount((()=>{N(window,"resize",p)})),t.watch((()=>e.popupVisible),(e=>{s.value=e,i.value=s.value}));return()=>{var n;const i=(null==(n=l.default)?void 0:n.call(l))||[];return t.createVNode("div",{class:a,ref:o},[t.h(i[0],{onClick:c,onMouseenter:u,onMouseleave:d}),t.createVNode(t.Teleport,{to:"body"},{default:()=>[t.createVNode(t.Transition,{name:e.transition,appear:!0},{default:()=>{var e;return[t.withDirectives(t.createVNode("div",{ref:r,class:`${a}-wrapper`,onMouseenter:u,onMouseleave:d},[null==(e=l.content)?void 0:e.call(l)]),[[t.vShow,s.value],[t.resolveDirective("clickOutside"),m]])]}})]})])}}});en.name=c()+en.name;const tn=Object.assign(en,{install:e=>{e.component(en.name,en)}}),nn=Symbol("FormCtxKey");function ln(){return ln=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},ln.apply(this,arguments)}function an(e){return(an=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function on(e,t){return(on=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function rn(e,t,n){return(rn=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,n){var l=[null];l.push.apply(l,t);var a=new(Function.bind.apply(e,l));return n&&on(a,n.prototype),a}).apply(null,arguments)}function sn(e){var t="function"==typeof Map?new Map:void 0;return sn=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,l)}function l(){return rn(e,arguments,an(this).constructor)}return l.prototype=Object.create(e.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),on(l,e)},sn(e)}var cn=/%[sdj%]/g,un=function(){};function dn(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function pn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),l=1;l<t;l++)n[l-1]=arguments[l];var a=0,o=n.length;return"function"==typeof e?e.apply(null,n):"string"==typeof e?e.replace(cn,(function(e){if("%%"===e)return"%";if(a>=o)return e;switch(e){case"%s":return String(n[a++]);case"%d":return Number(n[a++]);case"%j":try{return JSON.stringify(n[a++])}catch(t){return"[Circular]"}break;default:return e}})):e}function mn(e,t){return null==e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!=typeof e||e))}function fn(e,t,n){var l=0,a=e.length;!function o(r){if(r&&r.length)n(r);else{var s=l;l+=1,s<a?t(e[s],o):n([])}}([])}"undefined"!=typeof process&&process.env&&"production"!==process.env.NODE_ENV&&"undefined"!=typeof window&&"undefined"!=typeof document&&(un=function(e,t){"undefined"!=typeof console&&console.warn&&"undefined"==typeof ASYNC_VALIDATOR_NO_WARNING&&t.every((function(e){return"string"==typeof e}))&&console.warn(e,t)});var yn=function(e){var t,n;function l(t,n){var l;return(l=e.call(this,"Async Validation Error")||this).errors=t,l.fields=n,l}return n=e,(t=l).prototype=Object.create(n.prototype),t.prototype.constructor=t,on(t,n),l}(sn(Error));function gn(e,t,n,l,a){if(t.first){var o=new Promise((function(t,o){var r=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);fn(r,n,(function(e){return l(e),e.length?o(new yn(e,dn(e))):t(a)}))}));return o.catch((function(e){return e})),o}var r=!0===t.firstFields?Object.keys(e):t.firstFields||[],s=Object.keys(e),i=s.length,c=0,u=[],d=new Promise((function(t,o){var d=function(e){if(u.push.apply(u,e),++c===i)return l(u),u.length?o(new yn(u,dn(u))):t(a)};s.length||(l(u),t(a)),s.forEach((function(t){var l=e[t];-1!==r.indexOf(t)?fn(l,n,d):function(e,t,n){var l=[],a=0,o=e.length;function r(e){l.push.apply(l,e||[]),++a===o&&n(l)}e.forEach((function(e){t(e,r)}))}(l,n,d)}))}));return d.catch((function(e){return e})),d}function hn(e,t){return function(n){var l,a;return l=e.fullFields?function(e,t){for(var n=e,l=0;l<t.length;l++){if(null==n)return n;n=n[t[l]]}return n}(t,e.fullFields):t[n.field||e.fullField],(a=n)&&void 0!==a.message?(n.field=n.field||e.fullField,n.fieldValue=l,n):{message:"function"==typeof n?n():n,fieldValue:l,field:n.field||e.fullField}}}function vn(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var l=t[n];"object"==typeof l&&"object"==typeof e[n]?e[n]=ln({},e[n],l):e[n]=l}return e}var bn,kn=function(e,t,n,l,a,o){!e.required||n.hasOwnProperty(e.field)&&!mn(t,o||e.type)||l.push(pn(a.messages.required,e.fullField))},Cn=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,Bn=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,Vn={integer:function(e){return Vn.number(e)&&parseInt(e,10)===e},float:function(e){return Vn.number(e)&&!Vn.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(t){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"==typeof e&&!Vn.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&e.length<=320&&!!e.match(Cn)},url:function(e){return"string"==typeof e&&e.length<=2048&&!!e.match(function(){if(bn)return bn;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",l="[a-fA-F\\d]{1,4}",a=("\n(?:\n(?:"+l+":){7}(?:"+l+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+l+":){6}(?:"+n+"|:"+l+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+l+":){5}(?::"+n+"|(?::"+l+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+l+":){4}(?:(?::"+l+"){0,1}:"+n+"|(?::"+l+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+l+":){3}(?:(?::"+l+"){0,2}:"+n+"|(?::"+l+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+l+":){2}(?:(?::"+l+"){0,3}:"+n+"|(?::"+l+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+l+":){1}(?:(?::"+l+"){0,4}:"+n+"|(?::"+l+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+l+"){0,5}:"+n+"|(?::"+l+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+n+"$)|(?:^"+a+"$)"),r=new RegExp("^"+n+"$"),s=new RegExp("^"+a+"$"),i=function(e){return e&&e.exact?o:new RegExp("(?:"+t(e)+n+t(e)+")|(?:"+t(e)+a+t(e)+")","g")};i.v4=function(e){return e&&e.exact?r:new RegExp(""+t(e)+n+t(e),"g")},i.v6=function(e){return e&&e.exact?s:new RegExp(""+t(e)+a+t(e),"g")};var c=i.v4().source,u=i.v6().source;return bn=new RegExp("(?:^(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+c+"|"+u+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i")}())},hex:function(e){return"string"==typeof e&&!!e.match(Bn)}},wn="enum",xn={required:kn,whitespace:function(e,t,n,l,a){(/^\s+$/.test(t)||""===t)&&l.push(pn(a.messages.whitespace,e.fullField))},type:function(e,t,n,l,a){if(e.required&&void 0===t)kn(e,t,n,l,a);else{var o=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?Vn[o](t)||l.push(pn(a.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&l.push(pn(a.messages.types[o],e.fullField,e.type))}},range:function(e,t,n,l,a){var o="number"==typeof e.len,r="number"==typeof e.min,s="number"==typeof e.max,i=t,c=null,u="number"==typeof t,d="string"==typeof t,p=Array.isArray(t);if(u?c="number":d?c="string":p&&(c="array"),!c)return!1;p&&(i=t.length),d&&(i=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?i!==e.len&&l.push(pn(a.messages[c].len,e.fullField,e.len)):r&&!s&&i<e.min?l.push(pn(a.messages[c].min,e.fullField,e.min)):s&&!r&&i>e.max?l.push(pn(a.messages[c].max,e.fullField,e.max)):r&&s&&(i<e.min||i>e.max)&&l.push(pn(a.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,l,a){e[wn]=Array.isArray(e[wn])?e[wn]:[],-1===e[wn].indexOf(t)&&l.push(pn(a.messages[wn],e.fullField,e[wn].join(", ")))},pattern:function(e,t,n,l,a){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||l.push(pn(a.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"==typeof e.pattern){new RegExp(e.pattern).test(t)||l.push(pn(a.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},Sn=function(e,t,n,l,a){var o=e.type,r=[];if(e.required||!e.required&&l.hasOwnProperty(e.field)){if(mn(t,o)&&!e.required)return n();xn.required(e,t,l,r,a,o),mn(t,o)||xn.type(e,t,l,r,a)}n(r)},Nn={string:function(e,t,n,l,a){var o=[];if(e.required||!e.required&&l.hasOwnProperty(e.field)){if(mn(t,"string")&&!e.required)return n();xn.required(e,t,l,o,a,"string"),mn(t,"string")||(xn.type(e,t,l,o,a),xn.range(e,t,l,o,a),xn.pattern(e,t,l,o,a),!0===e.whitespace&&xn.whitespace(e,t,l,o,a))}n(o)},method:function(e,t,n,l,a){var o=[];if(e.required||!e.required&&l.hasOwnProperty(e.field)){if(mn(t)&&!e.required)return n();xn.required(e,t,l,o,a),void 0!==t&&xn.type(e,t,l,o,a)}n(o)},number:function(e,t,n,l,a){var o=[];if(e.required||!e.required&&l.hasOwnProperty(e.field)){if(""===t&&(t=void 0),mn(t)&&!e.required)return n();xn.required(e,t,l,o,a),void 0!==t&&(xn.type(e,t,l,o,a),xn.range(e,t,l,o,a))}n(o)},boolean:function(e,t,n,l,a){var o=[];if(e.required||!e.required&&l.hasOwnProperty(e.field)){if(mn(t)&&!e.required)return n();xn.required(e,t,l,o,a),void 0!==t&&xn.type(e,t,l,o,a)}n(o)},regexp:function(e,t,n,l,a){var o=[];if(e.required||!e.required&&l.hasOwnProperty(e.field)){if(mn(t)&&!e.required)return n();xn.required(e,t,l,o,a),mn(t)||xn.type(e,t,l,o,a)}n(o)},integer:function(e,t,n,l,a){var o=[];if(e.required||!e.required&&l.hasOwnProperty(e.field)){if(mn(t)&&!e.required)return n();xn.required(e,t,l,o,a),void 0!==t&&(xn.type(e,t,l,o,a),xn.range(e,t,l,o,a))}n(o)},float:function(e,t,n,l,a){var o=[];if(e.required||!e.required&&l.hasOwnProperty(e.field)){if(mn(t)&&!e.required)return n();xn.required(e,t,l,o,a),void 0!==t&&(xn.type(e,t,l,o,a),xn.range(e,t,l,o,a))}n(o)},array:function(e,t,n,l,a){var o=[];if(e.required||!e.required&&l.hasOwnProperty(e.field)){if(null==t&&!e.required)return n();xn.required(e,t,l,o,a,"array"),null!=t&&(xn.type(e,t,l,o,a),xn.range(e,t,l,o,a))}n(o)},object:function(e,t,n,l,a){var o=[];if(e.required||!e.required&&l.hasOwnProperty(e.field)){if(mn(t)&&!e.required)return n();xn.required(e,t,l,o,a),void 0!==t&&xn.type(e,t,l,o,a)}n(o)},enum:function(e,t,n,l,a){var o=[];if(e.required||!e.required&&l.hasOwnProperty(e.field)){if(mn(t)&&!e.required)return n();xn.required(e,t,l,o,a),void 0!==t&&xn.enum(e,t,l,o,a)}n(o)},pattern:function(e,t,n,l,a){var o=[];if(e.required||!e.required&&l.hasOwnProperty(e.field)){if(mn(t,"string")&&!e.required)return n();xn.required(e,t,l,o,a),mn(t,"string")||xn.pattern(e,t,l,o,a)}n(o)},date:function(e,t,n,l,a){var o=[];if(e.required||!e.required&&l.hasOwnProperty(e.field)){if(mn(t,"date")&&!e.required)return n();var r;if(xn.required(e,t,l,o,a),!mn(t,"date"))r=t instanceof Date?t:new Date(t),xn.type(e,r,l,o,a),r&&xn.range(e,r.getTime(),l,o,a)}n(o)},url:Sn,hex:Sn,email:Sn,required:function(e,t,n,l,a){var o=[],r=Array.isArray(t)?"array":typeof t;xn.required(e,t,l,o,a,r),n(o)},any:function(e,t,n,l,a){var o=[];if(e.required||!e.required&&l.hasOwnProperty(e.field)){if(mn(t)&&!e.required)return n();xn.required(e,t,l,o,a)}n(o)}};function $n(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var En=$n(),zn=function(){function e(e){this.rules=null,this._messages=En,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!=typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var l=e[n];t.rules[n]=Array.isArray(l)?l:[l]}))},t.messages=function(e){return e&&(this._messages=vn($n(),e)),this._messages},t.validate=function(t,n,l){var a=this;void 0===n&&(n={}),void 0===l&&(l=function(){});var o=t,r=n,s=l;if("function"==typeof r&&(s=r,r={}),!this.rules||0===Object.keys(this.rules).length)return s&&s(null,o),Promise.resolve(o);if(r.messages){var i=this.messages();i===En&&(i=$n()),vn(i,r.messages),r.messages=i}else r.messages=this.messages();var c={};(r.keys||Object.keys(this.rules)).forEach((function(e){var n=a.rules[e],l=o[e];n.forEach((function(n){var r=n;"function"==typeof r.transform&&(o===t&&(o=ln({},o)),l=o[e]=r.transform(l)),(r="function"==typeof r?{validator:r}:ln({},r)).validator=a.getValidationMethod(r),r.validator&&(r.field=e,r.fullField=r.fullField||e,r.type=a.getType(r),c[e]=c[e]||[],c[e].push({rule:r,value:l,source:o,field:e}))}))}));var u={};return gn(c,r,(function(t,n){var l,a=t.rule,s=!("object"!==a.type&&"array"!==a.type||"object"!=typeof a.fields&&"object"!=typeof a.defaultField);function i(e,t){return ln({},t,{fullField:a.fullField+"."+e,fullFields:a.fullFields?[].concat(a.fullFields,[e]):[e]})}function c(l){void 0===l&&(l=[]);var c=Array.isArray(l)?l:[l];!r.suppressWarning&&c.length&&e.warning("async-validator:",c),c.length&&void 0!==a.message&&(c=[].concat(a.message));var d=c.map(hn(a,o));if(r.first&&d.length)return u[a.field]=1,n(d);if(s){if(a.required&&!t.value)return void 0!==a.message?d=[].concat(a.message).map(hn(a,o)):r.error&&(d=[r.error(a,pn(r.messages.required,a.field))]),n(d);var p={};a.defaultField&&Object.keys(t.value).map((function(e){p[e]=a.defaultField})),p=ln({},p,t.rule.fields);var m={};Object.keys(p).forEach((function(e){var t=p[e],n=Array.isArray(t)?t:[t];m[e]=n.map(i.bind(null,e))}));var f=new e(m);f.messages(r.messages),t.rule.options&&(t.rule.options.messages=r.messages,t.rule.options.error=r.error),f.validate(t.value,t.rule.options||r,(function(e){var t=[];d&&d.length&&t.push.apply(t,d),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(d)}if(s=s&&(a.required||!a.required&&t.value),a.field=t.field,a.asyncValidator)l=a.asyncValidator(a,t.value,c,t.source,r);else if(a.validator){try{l=a.validator(a,t.value,c,t.source,r)}catch(d){null==console.error||console.error(d),r.suppressValidatorError||setTimeout((function(){throw d}),0),c(d.message)}!0===l?c():!1===l?c("function"==typeof a.message?a.message(a.fullField||a.field):a.message||(a.fullField||a.field)+" fails"):l instanceof Array?c(l):l instanceof Error&&c(l.message)}l&&l.then&&l.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){!function(e){for(var t,n,l=[],a={},r=0;r<e.length;r++)t=e[r],n=void 0,Array.isArray(t)?l=(n=l).concat.apply(n,t):l.push(t);l.length?(a=dn(l),s(l,a)):s(null,o)}(e)}),o)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!Nn.hasOwnProperty(e.type))throw new Error(pn("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"==typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?Nn.required:Nn[this.getType(e)]||void 0},e}();zn.register=function(e,t){if("function"!=typeof t)throw new Error("Cannot register a validator by type, validator is not a function");Nn[e]=t},zn.warning=un,zn.messages=En,zn.validators=Nn;const On=t.defineComponent({name:"Form",props:{model:{type:Object,default:()=>{}},rules:{type:Object},layout:{type:String,default:"horizontal"}},setup(e,{slots:n,expose:l}){const a="bp-form";t.provide(nn,{model:e.model,layout:e.layout});const o=t.computed((()=>{let t=[a];return t.push(`${a}-${e.layout}`),t})),r=t.ref(),s=t.ref({});return l({validate:async l=>new Promise((a=>{const o=((e,n)=>{var l;const a=y(null==(l=n.default)?void 0:l.call(n),!0).filter((e=>e.type!==t.Comment&&"BpFormItem"===e.type.name));let o=e??{};for(let t=0;t<a.length;t++){const{field:e=null,rules:n}=a[t].props??{};e&&n&&(o[e]=n)}return o})(e.rules,n);new zn(o||{}).validate(e.model,l||(e=>{if(e){for(let t=0;t<e.length;t++){const{field:n,message:l}=e[t];s.value[n].handleError(l),console.warn(`BpForm validate - [ ${n} ]`,l)}a(e)}a(void 0)}))})),clearValidate:()=>{},resetFields:()=>{for(const e in s.value)s.value[e].resetFields()}}),()=>{var e;const l=y(null==(e=n.default)?void 0:e.call(n),!0).filter((e=>e.type!==t.Comment&&"BpFormItem"===e.type.name));return t.createVNode("form",{ref:r,class:o.value},[l.map(((e,n)=>{const l=Object.assign({},e);return t.createVNode(t.Fragment,{key:e.key??`item-${n}`},[t.h(l,{ref:t=>{var n,l;(null==(n=e.props)?void 0:n.field)&&(s.value[null==(l=e.props)?void 0:l.field]=t)}})])}))])}}}),Fn=t.defineComponent({name:"FormItem",props:{label:{type:String},field:{type:String},rules:{type:Array,default:()=>[]},labelStyle:{type:[Object,String],default:""},wrapperStyle:{type:[Object,String],default:""}},setup(e,{slots:n,expose:l}){const a="bp-form-item",o=t.ref(!1),r=t.ref(),s=t.ref("");r.value=t.inject(nn,null);const i=t.computed((()=>{let e=[a];return o.value&&e.push(`${a}-has-message`),e})),c=t.computed((()=>[`${a}-wrapper`])),u=t.computed((()=>e.rules.some((e=>e.required)))),d=()=>{o.value&&(o.value=!1,s.value="")};t.watch((()=>r.value.model[e.field]),(()=>{o.value&&d()}));return l({handleError:e=>{s.value=e,o.value=!0},clearError:d,resetFields:()=>{r.value.model[e.field]="",d()}}),()=>{var l;return t.createVNode("div",{class:i.value},[t.withDirectives(t.createVNode("div",{class:`${a}-label`,style:e.labelStyle},[u.value?t.createVNode("span",{class:"label-asterisk"},null):"",t.createVNode("label",null,[e.label])]),[[t.vShow,e.label||"inline"!==r.value.layout]]),t.createVNode("div",{class:c.value,style:e.wrapperStyle},[null==(l=n.default)?void 0:l.call(n),o.value?t.createVNode(t.Transition,{name:"form-error",appear:!0},{default:()=>[t.withDirectives(t.createVNode("div",{class:`${a}-message`},[s.value]),[[t.vShow,o.value]])]}):null])])}}});On.name=c()+On.name,Fn.name=c()+Fn.name;const Tn=Object.assign(On,{install:e=>{e.component(On.name,On),e.component(Fn.name,Fn)}}),jn=["innerHTML"],An=[t.createElementVNode("i",{class:"ri-close-line"},null,-1)],Ln=t.defineComponent({name:"MessageList"}),qn=t.defineComponent({...Ln,props:{id:{type:String},type:{type:String,default:"text"},content:{type:String,default:""},duration:{type:Number,default:3e3},closeable:{type:Boolean,default:!1},plain:{type:Boolean,default:!1},onClose:{type:Function}},emits:["remove"],setup(e,{emit:n}){const l=e,a="bp-message",o=t.ref(0),r={success:"ri-checkbox-circle-fill",error:"ri-close-circle-fill",warning:"ri-error-warning-fill",loading:"ri-loader-4-line"},s=t.computed((()=>{let e=[a];return e.push(l.plain?`${a}-plain`:`${a}-${l.type}`),e})),i=()=>{n("remove",l.id),l.onClose&&l.onClose(l.id)};return t.onMounted((()=>{t.nextTick((()=>{l.duration>0&&"loading"!==l.type&&(o.value=window.setTimeout(i,l.duration))}))})),t.onUnmounted((()=>{o&&(window.clearTimeout(o.value),o.value=0)})),(n,l)=>(t.openBlock(),t.createElementBlock("li",{class:t.normalizeClass(s.value)},["text"!==e.type?(t.openBlock(),t.createElementBlock("span",{key:0,class:t.normalizeClass(`${a}-icon`)},[t.createElementVNode("i",{class:t.normalizeClass(r[e.type])},null,2)],2)):t.createCommentVNode("",!0),t.createElementVNode("span",{class:t.normalizeClass(`${a}-content`),innerHTML:e.content},null,10,jn),e.closeable?(t.openBlock(),t.createElementBlock("span",{key:1,class:t.normalizeClass(`${a}-close`),onClick:i},An,2)):t.createCommentVNode("",!0)],2))}}),Dn=t.defineComponent({name:"MessageList"}),_n=t.defineComponent({...Dn,props:{list:{type:Array,default:()=>[]}},emits:["remove"],setup(e,{emit:n}){const l=e=>n("remove",e);return(n,a)=>(t.openBlock(),t.createBlock(t.TransitionGroup,{class:"bp-message-list",name:"fademsg",tag:"ul"},{default:t.withCtx((()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.list,(e=>(t.openBlock(),t.createBlock(qn,{key:`${e.id}`,id:e.id,type:e.type,content:e.content,duration:e.duration,closeable:e.closeable,plain:e.plain,"on-close":e.onClose,onRemove:l},null,8,["id","type","content","duration","closeable","plain","on-close"])))),128))])),_:1}))}});class Pn{constructor(e){l(this,"mask",document.createElement("div")),l(this,"messageList"),l(this,"add",(e=>{var n;const l=e.id??`_bp_message_${Math.random().toString(36).slice(-8)}`;this.mask.setAttribute("class",`bp-mask-message bp-message-${e.position||"top"}`);const a=t.reactive({id:l,...e}),o=function(e,t,n){for(let l=0;l<e.length;l++)if(e[l][t]===n)return l;return-1}(this.messageList.value,"id",l);-1!==o?this.messageList.value[o]=e:this.messageList.value.push(a);const r=this.messageList.value.length;return r>1&&(null==(n=this.messageList.value[r-1])?void 0:n.duration)===a.duration&&(a.duration=a.duration??3e3+200*r),{remove:()=>this.remove(l)}})),l(this,"remove",(e=>{for(let t=0;t<this.messageList.value.length;t++){const{id:n}=this.messageList.value[t];if(e===n){this.messageList.value.splice(t,1);break}}})),l(this,"clear",(()=>{const e=z(this.messageList.value);for(let t=0;t<e.length;t++){const n=e[t];this.remove(n.id)}})),this.messageList=t.ref([]),this.mask.setAttribute("class","bp-mask-message");const n=t.createVNode(_n,{list:this.messageList.value,onRemove:this.remove});e&&(n.appContext=e),t.render(n,this.mask),document.body.appendChild(this.mask)}}_n.name=c()+_n.name;let Mn=null;const Rn=["text","success","warning","error","loading"].reduce(((e,t)=>(e[t]=(e,n)=>{w(e)&&(e={content:e});const l={type:t,...e};return Mn||(Mn=new Pn(n)),Mn.add(l)},e)),{}),In=Object.assign({...Rn,removeAll:()=>{Mn&&Mn.clear()}}),Kn={Button:u,ButtonGroup:h,Input:B,InputNumber:j,Textarea:P,Radio:I,Checkbox:G,Switch:Z,Select:le,Pagination:$e,Table:it,Space:ut,Alert:kt,Tag:Bt,Modal:wt,Spin:Ye,Grid:Nt,Link:Tt,Popconfirm:Pt,Image:Wt,Drawer:Ht,Tooltip:Xt,Trigger:tn,Form:Tn,Message:In},Un={install:function(e){for(const t of Object.keys(Kn))e.use(Kn[t])},Button:u,ButtonGroup:h,Input:B,InputNumber:j,Textarea:P,Radio:I,Checkbox:G,Switch:Z,Select:le,Pagination:$e,Table:it,Space:ut,Alert:kt,Tag:Bt,Modal:wt,Spin:Ye,Grid:Nt,Link:Tt,Popconfirm:Pt,Image:Wt,Drawer:Ht,Tooltip:Xt,Trigger:tn,Form:Tn,Message:In};e.Alert=kt,e.Button=u,e.ButtonGroup=h,e.Checkbox=G,e.Drawer=Ht,e.Form=Tn,e.Grid=Nt,e.Image=Wt,e.Input=B,e.InputNumber=j,e.Link=Tt,e.Message=In,e.Modal=wt,e.Pagination=$e,e.Popconfirm=Pt,e.Radio=I,e.RadioGroup=I,e.Select=le,e.Space=ut,e.Spin=Ye,e.Switch=Z,e.Table=it,e.Tag=Bt,e.Textarea=P,e.Tooltip=Xt,e.Trigger=tn,e.default=Un,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
//# sourceMappingURL=birdpaper-ui.umd.js.map
